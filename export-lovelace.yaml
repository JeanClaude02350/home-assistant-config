button_card_templates:
  popup_light:
    show_icon: true
    show_name: true
    show_state: false
    show_label: false
    show_last_changed: true
    styles:
      img_cell:
        - background-color: rgba(70,70,70,0.5)
        - border-radius: 50%
        - place-self: start
        - width: 35px
        - height: 35px
        - margin-top: 2px
      icon:
        - place-self: start
        - width: 80%
      name:
        - color: lightgrey
        - top: 45%
        - left: 3%
        - font-size: 85%
        - font-weight: bold
        - position: absolute
      state:
        - color: lightgrey
        - top: 25%
        - left: 42%
        - font-size: 90%
        - position: absolute
      label:
        - color: darkgrey
        - top: 60%
        - left: 3%
        - font-size: 70%
        - position: absolute
      card:
        - height: 100px
        - padding: 3px
        - font-size: 100%
        - border-color: rgba(152, 167, 185, 0.2)
        - background-color: var(--my_color2)
        - border-style: outset
        - border-width: 1px
        - box-shadow: 1px 1px 5px 0px rgb(12, 12, 14)
      custom_fields:
        lum:
          - position: absolute
          - top: 75%
          - left: 50%
          - width: calc(80% + 1px)
          - transform: translate(-50%, calc(-50% + 10px))
          - z-index: 1
          - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
          - '--ha-card-background': rgba(0, 0, 0, 0.0)"
          - '--ha-card-box-shadow': none
    state:
      - value: 'on'
        styles:
          card:
            - animation: ball-scale 0.2s
          img_cell:
            - background-color: var(--button-card-light-color)
          icon:
            - color: var(--icon_on)
            - transition: 2s ease
          name:
            - color: var(--text_on)
          label:
            - color: var(--text_on)
      - value: 'off'
        color: grey
        styles:
          card:
            - animation: ball-scale2 0.2s
          img_cell:
            - background-color: var(--pastille_off)
          icon:
            - color: var(--icon_off)
            - transition: 2s ease
          name:
            - color: var(--text_off)
          label:
            - color: var(--text_off)
    double_tap_action:
      action: toggle
    tap_action:
      action: more-info
  popup_capteur:
    show_icon: true
    show_name: true
    show_state: true
    show_label: false
    show_last_changed: true
    styles:
      img_cell:
        - background-color: var(--pastille_off)
        - border-radius: 50%
        - place-self: start
        - width: 35px
        - height: 35px
        - margin-top: 1px
      icon:
        - place-self: start
        - width: 80%
        - color: grey
      name:
        - color: grey
        - top: 5%
        - left: 35%
        - font-size: 90%
        - font-weight: bold
        - position: absolute
      state:
        - color: lightgrey
        - top: 25%
        - left: 35%
        - font-size: 90%
        - position: absolute
      label:
        - color: darkgrey
        - top: 75%
        - left: 8%
        - font-size: 80%
        - position: absolute
      card:
        - height: 75px
        - padding: 3px
        - padding: 3px
        - font-size: 100%
        - border-color: rgba(152, 167, 185, 0.2)
        - background-color: var(--my_color2)
        - border-style: outset
        - border-width: 1px
        - box-shadow: 1px 1px 5px 0px rgb(12, 12, 14)
    state:
      - value: 'off'
        styles:
          img_cell:
            - background-color: var(--pastille_off)
          icon:
            - color: var(--icon_off)
          card: null
      - value: 'on'
        styles:
          img_cell:
            - background-color: rgba(255,0,0,0.8)
          name:
            - color: red
            - font-weight: bold
          label:
            - color: red
            - font-weight: bold
          icon:
            - color: var(--icon_on)
          card:
            - border-color: red
      - value: 25
        operator: '>'
        styles:
          icon:
            - color: tomato
      - value: 19
        operator: <
        styles:
          icon:
            - color: dodgerblue
      - value: disarmed
        styles:
          icon:
            - color: var(--icon_off)
          state:
            - color: grey
      - value: armed_away
        styles:
          img_cell:
            - background-color: rgba(255,0,0,0.8)
          icon:
            - color: var(--icon_on)
          state:
            - color: red
            - font-weight: bold
      - value: arming
        styles:
          img_cell:
            - background-color: rgba(255,215,0,0.8)
          icon:
            - color: var(--icon_on)
          state:
            - color: gold
            - font-weight: bold
      - value: triggered
        styles:
          img_cell:
            - background-color: rgba(255,0,0,0.8)
          icon:
            - color: var(--icon_on)
            - animation: blink 1s ease infinite
          state:
            - color: red
            - font-weight: bold
    double_tap_action:
      action: more-info
    tap_action:
      action: more-info
  scene:
    template:
      - rouge_on
      - vert_off
    size: 20px
    show_label: true
    label: |
      [[[ return (entity.attributes.value )]]]
    styles:
      card:
        - border-radius: 20px
        - box-shadow: none
        - padding: 10px 0px 8px 0px
      grid:
        - grid-template-areas: '"i" "n" "l"'
      name:
        - margin-top: 10px
        - justify-self: center
        - font-weight: bold
        - font-size: 14px
      label:
        - justify-self: center
        - align-self: start
        - font-weight: bolder
        - font-size: 12px
        - filter: opacity(40%)
      icon:
        - color: rgba(51,51,51,0.2)
      img_cell:
        - background-color: rgba(51,51,51,0.05)
        - border-radius: 50%
        - place-self: center
        - width: 42px
        - height: 42px
  vert_off:
    state:
      - id: vert_off
        styles:
          icon:
            - color: rgba(1, 200, 82, 1)
          img_cell:
            - background-color: rgba(1, 200, 82, 0.2)
        value: 'off'
  vert_on:
    state:
      - id: vert_on
        styles:
          icon:
            - color: rgba(1, 200, 82, 1)
          img_cell:
            - background-color: rgba(1, 200, 82, 0.2)
        value: 'on'
  rouge_on:
    state:
      - id: rouge_on
        styles:
          icon:
            - color: rgba(245, 68, 54, 1)
          img_cell:
            - background-color: rgba(245, 68, 54, 0.2)
        value: 'on'
  rouge_off:
    state:
      - id: rouge_off
        styles:
          icon:
            - color: rgba(245, 68, 54, 1)
          img_cell:
            - background-color: rgba(245, 68, 54, 0.2)
        value: 'off'
  icon_info_bg:
    color: rgba(187, 187, 187)
    show_icon: true
    show_name: true
    show_label: true
    size: 20px
    custom_fields:
      notification: |
        [[[
          if (entity.state =='unavailable'){
            return `<ha-icon icon="mdi:exclamation" style="width: 12px; height: 12px; color: '#EFEFEF';"></ha-icon>`
          }
        ]]]
    state:
      - styles:
          custom_fields:
            notification:
              - border-radius: 50%
              - position: absolute
              - left: 38px
              - top: 8px
              - height: 16px
              - width: 16px
              - border: 2px solid '#FAFAFA'
              - font-size: 12px
              - line-height: 14px
              - background-color: |
                  [[[
                    return "rgba(245, 68, 54, 1)";
                  ]]]
        value: unavailable
    styles:
      card:
        - border-radius: 20px
        - box-shadow: none
        - padding: 12px
      grid:
        - grid-template-areas: '"i n" "i l"'
        - grid-template-columns: min-content auto
        - grid-template-rows: min-content min-content
      icon:
        - color: rgba(255,255,255,0.2)
      img_cell:
        - background-color: rgba(255,255,255,0.05)
        - border-radius: 50%
        - place-self: center
        - width: 42px
        - height: 42px
      name:
        - align-self: end
        - justify-self: start
        - font-weight: bold
        - font-size: 14px
        - margin-left: 12px
      label:
        - justify-self: start
        - align-self: start
        - font-weight: bold
        - font-size: 12px
        - filter: opacity(40%)
        - margin-left: 12px
      state:
        - justify-self: start
        - align-self: start
        - font-weight: bold
        - font-size: 12px
        - filter: opacity(40%)
        - margin-left: 12px
  ouverture:
    template:
      - rouge_on
      - vert_off
    state:
      - label: Ouvert(e)
        id: 'on'
        value: 'on'
      - label: Fermé(e)
        id: 'off'
        value: 'off'
  ouverture_fenetre:
    template:
      - rouge_on
      - vert_off
    state:
      - icon: mdi:window-open-variant
        label: Fenêtre Ouverte
        id: rouge_on
        value: 'on'
      - icon: mdi:window-closed-variant
        label: Fenêtre Fermée
        id: vert_off
        value: 'off'
  bouton_systeme:
    show_icon: true
    show_name: true
    show_state: false
    show_label: true
    styles:
      img_cell:
        - border-radius: 50%
        - place-self: start
        - width: 37px
        - height: 37px
        - margin-left: 2%
        - margin-top: 0%
      icon:
        - color: black
        - top: 1%
        - left: 10%
        - width: 75%
      name:
        - color: black
        - top: 33%
        - left: 6%
        - font-size: 100%
        - font-weight: bold
        - position: absolute
      state:
        - top: 7%
        - left: 11%
        - position: absolute
      card:
        - height: 175px
        - text-shadow: 0px 0px 0px white
        - background-color: '#FFFFFF'
        - padding-left: 10px
        - border-radius: 20px
        - padding: 5%
        - font-size: 15px
        - transition: none
        - color: >
            [[[ return (entity.state === 'on' || entity.state === 'home') ?
            'rgba(0, 0, 0, 0.6)' : 'rgba(255, 255, 255, 0.3)'; ]]]
      custom_fields:
        circle:
          - top: 17%
          - left: 66.2%
          - width: 27%
          - position: absolute
          - letter-spacing: 0.03vw
        info1:
          - font-size: 12px
          - color: black
          - top: 57%
          - left: 3.2%
          - position: absolute
          - width: null
        info2:
          - font-size: 12px
          - color: black
          - top: 69%
          - left: 3.2%
          - width: null
          - position: absolute
        info3:
          - font-size: 12px
          - color: black
          - top: 81%
          - left: 3.2%
          - width: null
          - position: absolute
        info4:
          - font-size: 12px
          - color: black
          - top: 69%
          - left: 50.2%
          - width: null
          - position: absolute
        info5:
          - font-size: 12px
          - color: black
          - top: 81%
          - left: 50.2%
          - width: null
          - position: absolute
  bouton_titre:
    show_icon: false
    show_name: true
    show_state: false
    show_label: true
    styles:
      name:
        - top: 30%
        - margin-left: 5px
        - justify-self: center
        - font-size: 15px
        - font-weight: bold
        - font-style: italic
        - color: var(--text_title)
        - position: absolute
      label:
        - top: 30%
        - left: 65%
        - font-size: 13px
        - font-style: italic
        - color: var(--text_title)
        - position: absolute
      card:
        - height: 25px
title: Maison
views:
  - title: Accueil
    path: accueil
    icon: mdi:information-variant
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:button-card
            entity: ''
            styles:
              card:
                - padding: 4%
                - font-size: 52px
                - border-radius: 20px
                - color: '#212121'
              grid:
                - grid-template-areas: '"date time"'
                - grid-template-columns: 2fr 1fr
                - grid-template-rows: 1fr
              custom_fields:
                time:
                  - justify-self: end
                date:
                  - justify-self: start
                  - font-size: 16px
                  - '--ha-card-box-shadow': none
            custom_fields:
              time: |
                [[[ return states['sensor.time'].state ]]]
              date:
                card:
                  type: markdown
                  content: >-
                    <center>  <b>{% if is_state('sensor.season', 'spring')%} 🌻
                    &nbsp; {{ states('sensor.date_longue') }}&nbsp; 🌻
                        {% elif is_state('sensor.season', 'summer')%} 🌴 &nbsp; {{ states('sensor.date_longue') }}&nbsp; 🌴
                        {% elif is_state('sensor.season', 'autumn')%} 🍂 &nbsp; {{ states('sensor.date_longue') }}&nbsp; 🍂 
                        {% elif is_state('sensor.season', 'winter')%} ❄️ &nbsp; {{ states('sensor.date_longue') }}&nbsp; ❄️ 
                        {% else %} Erreur Saison {% endif %} <center> </b>

                    <center><i> 🎉 &nbsp; Saint
                    </i>{{states('sensor.fete_du_jour') }} <center>
          - custom_fields:
              temperature_label: |
                [[[
                    return `
                      <span style="margin-top: -10px">
                        <span style="font-size:17px ; padding: 0px 0px 0px  0px; color:rgba(24, 142, 196,50%)">
                          _____________
                        </span><br/>
                        <span style="font-weight:bold; letter-spacing: -2px; margin: px 0px 0px 0px  ">
                          ${states['sensor.netatmo_maison_piece_de_vie_jardin_temperature'].state}</span> 
                          <sup style="font-size:12px; letter-spacing: -2px;">°C</sup>
                      </span>`
                  ]]]
              temperature_Min_Max: |
                [[[
                  return  states["sensor.weather_temperature_mini"].state + ' / '
                    + states["sensor.weather_temperature"].state 
                ]]]
              temperature_ressentie: |
                [[[
                    return `
                    <div style="display:block;; margin: 20px 0px 0px 0px; text-align:left">

                      <div style="display:inline-block; float-left;">
                        <ha-icon
                        icon="mdi:thermometer"
                        style="width: 25px; height: 25px; margin:0px 0px 0px 0px; color: rgba(209,234,245,1);">
                        </ha-icon>
                      </div>

                      <div style="display:inline-block; float-left; margin:-20px 0px 0px 0px">   
                        <span style=" font-size:13px;">
                          Ressenti 
                        </span>
                      </div>
                    
                      <div style="font-size:20px; font-weight:bold; display:inline-gird; float-left; margin:0px 0px 0px 29px">
                          ${states['sensor.netatmo_maison_piece_de_vie_jardin_temperature'].state} °C
                      </div>

                    </div>  
                    <div style="display:block;; margin: 0px 0px 0px 0px; text-align:left">
                      <div style="display:inline-block; float-left; margin: 20px 0px 0px 0px">
                        <ha-icon
                        icon="mdi:water-percent"
                        style="width: 25px; height: 25px; margin:0px 0px 0px 0px; color: rgba(209,234,245,1);">
                        </ha-icon>
                      </div>

                      <div style="display:inline-block; float-left; margin:0px 0px 0px 0px">   
                        <span style=" font-size:13px;">
                          Risque de pluie 
                        </span>
                      </div>
                    
                      <div style="font-size:20px; font-weight:bold; display:inline-gird; float-left; margin:0px 0px 0px 29px">
                         ${states['sensor.sillingy_rain_chance'].state} % 
                      </div>

                    </div> 


                    <div style="display:block;; margin: 20px 0px 0px 0px; text-align:left">
                      <div style="display:inline-block; float-left; margin: 0px 0px 0px 0px">
                        <ha-icon
                        icon="mdi:weather-windy"
                        style="width: 25px; height: 25px; margin:0px 0px 0px 0px; color: rgba(209,234,245,1);">
                        </ha-icon>
                      </div>

                      <div style="display:inline-block; float-left; margin:-20px 0px 0px 0px">   
                        <span style=" font-size:13px;">
                          Vent
                        </span>
                      </div>
                    
                      <div style="font-size:20px; font-weight:bold; display:inline-gird; float-left; margin:0px 0px 0px 29px">
                         ${states['sensor.meteo_force_du_vent'].state}
                      </div>

                    </div> 
                      `
                  ]]]
              ciel: |
                [[[  return `${states['sensor.weather_icon'].state}`  ]]]
              indice_uv: |
                [[[
                    return `

                      <div style="font-size:12px; font-weight:normal; margin:0px 0px 0px 0px">
                         ${states['sensor.meteo_indice_uv'].state}
                      </div>          `
                  ]]]
              soleil_leve: |
                [[[
                    return `
                      <div style="display:inline-block; float-left;">
                        <ha-icon
                        icon="mdi:weather-sunset-up"
                        style="width: 20px; height: 20px; margin:0px 0px 0px 0px; color: rgba(209,234,245,1);">
                        </ha-icon>
                      </div>
                      <div style="display:inline-block; float-left; margin:-20px 0px 0px 0px">   
                        <span style=" font-size:13px;">
                          ${states['sensor.weather_leve_soleil'].state}
                        </span>
                      </div>      
                      `
                  ]]]
              soleil_couche: |
                [[[
                    return `
                      <div style="display:inline-block; float-left;">
                        <ha-icon
                        icon="mdi:weather-sunset-down"
                        style="width: 20px; height: 20px; margin:0px 0px 0px 0px; color: rgba(209,234,245,1);">
                        </ha-icon>
                      </div>
                      <div style="display:inline-block; float-left; margin:-20px 0px 0px 0px">   
                        <span style=" font-size:13px;">
                          ${states['sensor.weather_couche_soleil'].state}
                        </span>
                      </div>   
                      `
                  ]]]
            styles:
              card:
                - background: >-
                    linear-gradient(45deg,rgba(24, 142, 196,100%), rgba(24, 125,
                    173,50%))
                - height: 250px
                - color: rgba(209,234,245,1)
                - padding: 4%
                - border-radius: 20px
                - color: '#212121'
              custom_fields:
                temperature_label:
                  - background-color: rgba(16,84,146,1)
                  - box-shadow: 0px 0px 5px 0px rgb(255,255,255,20%)
                  - border-radius: 100px
                  - padding: 35px
                  - align-self: middle
                  - justify-self: start
                  - position: absolute
                  - top: 10%
                  - left: 8%
                  - font-size: 40px
                  - color: rgba(209,234,245,1)
                temperature_Min_Max:
                  - padding-bottom: 2px
                  - align-self: middle
                  - justify-self: start
                  - position: absolute
                  - top: 63%
                  - left: 23%
                  - font-size: 12px
                  - color: rgba(116,228,239,1)
                soleil_leve:
                  - padding-bottom: 2px
                  - align-self: middle
                  - justify-self: start
                  - position: absolute
                  - top: 80%
                  - left: 13%
                  - font-size: 12px
                  - color: rgba(209,234,245,1)
                soleil_couche:
                  - padding-bottom: 2px
                  - align-self: middle
                  - justify-self: start
                  - position: absolute
                  - top: 80%
                  - left: 34%
                  - font-size: 12px
                  - color: rgba(209,234,245,1)
                temperature_ressentie:
                  - padding-bottom: 2px
                  - align-self: middle
                  - justify-self: start
                  - position: absolute
                  - top: 5%
                  - left: 60%
                  - color: rgba(209,234,245,1)
                ciel:
                  - align-self: middle
                  - justify-self: start
                  - position: absolute
                  - top: 15%
                  - left: 24%
                  - font-size: 46px
                  - width: 15%
                  - color: rgba(209,234,245,1)
                indice_uv:
                  - padding-bottom: 0px
                  - align-self: middle
                  - justify-self: start
                  - position: absolute
                  - top: 89%
                  - left: 13%
                  - color: rgba(209,234,245,1)
              grid:
                - grid-template-areas: >-
                    "temperature_label" "temperature_Min_Max" 
                    "soleil_leve_couche" "temperature_ressentie" "ciel"
                    "indice_uv"
                - grid-template-columns: 1fr
                - grid-template-rows: >-
                    1fr min-content min-content min-content min-content
                    min-content  min-content  min-content 
            type: custom:button-card
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: switch.vph
                name: VPH
                show_name: false
                icon: mdi:air-purifier
                styles:
                  card:
                    - height: 150px
                    - text-shadow: 0px 0px 0px white
                    - background-color: '#FFFFFF'
                    - padding-left: 10px
                    - border-radius: 20px
                    - padding: 10%
                    - font-size: 15px
                state:
                  - value: 'on'
                    styles:
                      card:
                        - border: solid 1px '#f83e43'
                      icon:
                        - width: 80%
                        - color: green
                    id: on-icon
                  - value: 'off'
                    icon: mdi:air-purifier
                    styles:
                      card:
                        - border: solid 1px '#434343'
                        - box-shadow: none
                      icon:
                        - width: 80%
                        - color: orange
                    id: off-icon
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    entity: input_boolean.courrier_present
                    name: Lettres
                    show_name: false
                    icon: mdi:mailbox
                    styles:
                      card:
                        - height: 70px
                        - text-shadow: 0px 0px 0px white
                        - background-color: '#FFFFFF'
                        - padding-left: 10px
                        - border-radius: 20px
                        - padding: 10%
                        - font-size: 15px
                    state:
                      - value: 'off'
                        styles:
                          card:
                            - border: solid 1px '#f83e43'
                          icon:
                            - width: 80%
                            - color: green
                        id: on-icon
                      - value: 'on'
                        icon: mdi:mailbox-open-up
                        styles:
                          card:
                            - border: solid 1px '#434343'
                            - box-shadow: none
                          icon:
                            - width: 80%
                            - color: orange
                        id: off-icon
                  - type: custom:button-card
                    entity: input_boolean.machine_en_cours
                    name: Machine
                    show_name: false
                    icon: mdi:washing-machine-off
                    styles:
                      card:
                        - height: 70px
                        - text-shadow: 0px 0px 0px white
                        - background-color: '#FFFFFF'
                        - padding-left: 10px
                        - border-radius: 20px
                        - padding: 10%
                        - font-size: 15px
                    state:
                      - value: 'off'
                        styles:
                          card:
                            - border: solid 1px '#f83e43'
                          icon:
                            - width: 80%
                            - color: green
                        id: on-icon
                      - value: 'on'
                        icon: mdi:washing-machine
                        styles:
                          card:
                            - border: solid 1px '#434343'
                            - box-shadow: none
                          icon:
                            - width: 80%
                            - color: orange
                        id: off-icon
              - type: conditional
                conditions:
                  - entity: person.thomas
                    state: home
                card:
                  entity: sensor.trajet_bureau_thomas
                  template: scene
                  type: custom:button-card
                  name: Trajet boulot
                  styles:
                    card:
                      - height: 150px
                      - text-shadow: 0px 0px 0px white
                      - background-color: '#FFFFFF'
                      - padding-left: 10px
                      - border-radius: 20px
                      - padding: 10%
                      - font-size: 15px
                  state:
                    - icon: mdi:waze
                      label: >
                        [[[ return states['sensor.trajet_bureau_thomas'].state +
                        ' min'; ]]]
                      id: rouge_on
                      operator: '>='
                      value: 55
                    - icon: mdi:waze
                      label: >
                        [[[ return states['sensor.trajet_bureau_thomas'].state +
                        ' min'; ]]]
                      id: vert_off
                      operator: <=
                      value: 54
              - type: conditional
                conditions:
                  - entity: person.thomas
                    state_not: home
                card:
                  entity: sensor.trajet_maison_thomas
                  template: scene
                  type: custom:button-card
                  name: Trajet maison
                  styles:
                    card:
                      - height: 150px
                      - text-shadow: 0px 0px 0px white
                      - background-color: '#FFFFFF'
                      - padding-left: 10px
                      - border-radius: 20px
                      - padding: 10%
                      - font-size: 15px
                  state:
                    - icon: mdi:waze
                      label: >
                        [[[ return states['sensor.trajet_maison_thomas'].state +
                        ' min'; ]]]
                      id: rouge_on
                      operator: '>='
                      value: 55
                    - icon: mdi:waze
                      label: >
                        [[[ return states['sensor.trajet_maison_thomas'].state +
                        ' min'; ]]]
                      id: vert_off
                      operator: <=
                      value: 54
          - type: horizontal-stack
            cards:
              - entity: alarm_control_panel.alarmo
                template: scene
                type: custom:button-card
                name: Alarme
                state:
                  - label: activée
                    id: vert_off
                    value: armed_away
                  - label: désactivée
                    id: rouge_on
                    value: disarmed
              - entity: group.all_doors_sensor_entities
                template: scene
                type: custom:button-card
                name: Ouvertures
                state:
                  - icon: mdi:door-open
                    label: détectées
                    id: rouge_on
                    value: 'on'
                  - icon: mdi:door-closed
                    label: RAS
                    id: vert_off
                    value: 'off'
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    command: popup
                    title: CAPTEURS D'OUVERTURES
                    card:
                      type: vertical-stack
                      cards:
                        - type: horizontal-stack
                          cards:
                            - type: custom:button-card
                              entity: >-
                                binary_sensor.capteur_ouverture_01_salon_door_state
                              name: Salon
                              template:
                                - popup_capteur
                            - type: custom:button-card
                              entity: >-
                                binary_sensor.capteur_ouverture_02_sam_door_state
                              show_last_changed: true
                              show_state: true
                              name: Salle à manger
                              template:
                                - popup_capteur
                        - type: horizontal-stack
                          cards:
                            - type: custom:button-card
                              entity: >-
                                binary_sensor.capteur_ouverture_05_descente_garage_contact
                              show_last_changed: true
                              show_state: true
                              name: Porte de garage
                              template:
                                - popup_capteur
                            - type: custom:button-card
                              entity: binary_sensor.contact_pour_porte_et_fenetre
                              show_last_changed: true
                              show_state: true
                              name: Fenêtre garage
                              template:
                                - popup_capteur
                        - type: horizontal-stack
                          cards:
                            - type: custom:button-card
                              entity: binary_sensor.velux_maxence_door_state
                              name: Velux Maxence
                              template:
                                - popup_capteur
                            - type: custom:button-card
                              entity: binary_sensor.velux_chloe_door_state
                              show_last_changed: true
                              show_state: true
                              name: Velux Chloé
                              template:
                                - popup_capteur
                        - type: horizontal-stack
                          cards:
                            - type: custom:button-card
                              entity: >-
                                binary_sensor.capteur_ouverture_05_descente_garage_contact
                              show_last_changed: true
                              show_state: true
                              name: Descente garage
                              template:
                                - popup_capteur
              - entity: sensor.number_of_motion_sensors_on
                template: scene
                type: custom:button-card
                name: Mouvements
                state:
                  - label: détectés
                    id: rouge_on
                    operator: '>'
                    value: '0'
                  - label: RAS
                    id: vert_off
                    value: '0'
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    command: popup
                    title: CAPTEURS DE MOUVEMENTS
                    card:
                      type: vertical-stack
                      cards:
                        - type: horizontal-stack
                          cards:
                            - type: custom:button-card
                              entity: binary_sensor.mouvement_07_salon_occupancy
                              name: Salon
                              template:
                                - popup_capteur
                            - type: custom:button-card
                              entity: >-
                                binary_sensor.mouvement_06_salle_a_manger_occupancy
                              show_last_changed: true
                              show_state: true
                              name: Salle à manger
                              template:
                                - popup_capteur
                        - type: horizontal-stack
                          cards:
                            - type: custom:button-card
                              entity: binary_sensor.mouvement_05_cuisine_occupancy
                              show_last_changed: true
                              show_state: true
                              name: Cuisine
                              template:
                                - popup_capteur
                            - type: custom:button-card
                              entity: >-
                                binary_sensor.mouvement_01_salle_de_jeux_occupancy
                              show_last_changed: true
                              show_state: true
                              name: Salle de jeux
                              template:
                                - popup_capteur
                        - type: horizontal-stack
                          cards:
                            - type: custom:button-card
                              entity: >-
                                binary_sensor.mouvement_03_garage_motion_sensor_status
                              name: Garage
                              template:
                                - popup_capteur
                            - type: custom:button-card
                              entity: >-
                                binary_sensor.mouvement_04_cave_a_vin_motion_sensor_status
                              show_last_changed: true
                              show_state: true
                              name: Cave à vin
                              template:
                                - popup_capteur
              - entity: group.all_smoke_sensor_entities
                template: scene
                type: custom:button-card
                name: Fumée
                state:
                  - icon: mdi:fire
                    label: Incendie
                    id: rouge_on
                    value: 'on'
                  - icon: mdi:shield-check
                    label: RAS
                    id: vert_off
                    value: 'off'
              - type: custom:button-card
                entity: switch.eufy_surveillance
                template: scene
                name: Caméras
                state:
                  - label: activées
                    id: vert_off
                    value: 'on'
                  - label: désactivées
                    id: rouge_on
                    value: 'off'
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: group.all_person_entities
                icon: mdi:home
                show_icon: true
                size: 65%
                aspect_ratio: 1/1
                name: Maison
                card_mod:
                  style: |
                    ha-card {
                      box-shadow:                   
                          -5px -5px 8px 0 rgba(255,255,255,.5),5px 5px 8px 0 rgba(0,0,0,.03);
                    }
                custom_fields: null
                styles:
                  custom_fields:
                    notification:
                      - background-color: |
                          [[[
                            if (states['sensor.all_person_entities'].state == 0)
                            return "red";
                            return "white"
                          ]]]
                      - border-radius: 50%
                      - position: absolute
                      - left: 70%
                      - top: 10%
                      - height: 20px
                      - width: 20px
                      - font-size: 15px
                      - line-height: 20px
                  name:
                    - font-size: 14px
                    - color: var(--text-color)
                    - position: absolute
                    - top: 75%
                    - padding-bottom: '-20px'
                  card:
                    - background-color: '#efaff9'
                    - border-radius: 20px
                  grid:
                    - position: absolute
                state:
                  - value: home
                    styles:
                      card:
                        - border: solid 1px '#efaff9'
                      icon:
                        - color: white
                    id: present
                  - value: not_home
                    styles:
                      card:
                        - border: solid 1px '#434343'
                        - box-shadow: none
                      icon:
                        - color: white
                    id: absent
                tap_action:
                  action: navigate
                  navigation_path: maison
              - type: custom:button-card
                entity: sensor.netatmo_maison_piece_de_vie_pluviometre_rain_today
                name: Jardin
                icon: mdi:pine-tree
                show_icon: true
                size: 70%
                aspect_ratio: 1/1
                card_mod:
                  style: |
                    ha-card {
                      box-shadow:                   
                          -5px -5px 8px 0 rgba(255,255,255,.5),5px 5px 8px 0 rgba(0,0,0,.03);
                    }
                custom_fields: null
                styles:
                  custom_fields:
                    notification:
                      - background-color: |
                          [[[
                            if (states['sensor.all_person_entities'].state == 0)
                            return "red";
                            return "white"
                          ]]]
                      - border-radius: 50%
                      - position: absolute
                      - left: 70%
                      - top: 10%
                      - height: 20px
                      - width: 20px
                      - font-size: 15px
                      - line-height: 20px
                  name:
                    - font-size: 14px
                    - color: var(--text-color)
                    - position: absolute
                    - top: 75%
                    - padding-bottom: '-20px'
                  card:
                    - background-color: '#9af7b2'
                    - border-radius: 20px
                  grid:
                    - position: absolute
                state:
                  - value: 0
                    styles:
                      card:
                        - border: solid 1px '#efaff9'
                      icon:
                        - color: white
                    id: sec
                  - operator: '>'
                    value: 0
                    styles:
                      card:
                        - border: solid 1px '#434343'
                        - box-shadow: none
                      icon:
                        - color: white
                    id: humide
                tap_action:
                  action: navigate
                  navigation_path: jardin
              - type: custom:button-card
                entity: alarm_control_panel.alarmo
                name: Sécurité
                icon: mdi:security
                show_icon: true
                size: 60%
                aspect_ratio: 1/1
                card_mod:
                  style: |
                    ha-card {
                      box-shadow:                   
                          -5px -5px 8px 0 rgba(255,255,255,.5),5px 5px 8px 0 rgba(0,0,0,.03);
                    }
                custom_fields: null
                styles:
                  custom_fields: null
                  name:
                    - font-size: 14px
                    - color: var(--text-color)
                    - position: absolute
                    - top: 75%
                    - padding-bottom: '-20px'
                  card:
                    - background-color: '#fbba7b'
                    - border-radius: 20px
                  grid:
                    - position: absolute
                state:
                  - value: armed_away
                    styles:
                      card:
                        - border: solid 1px '#efaff9'
                      icon:
                        - color: white
                    id: activee
                  - value: disarmed
                    styles:
                      card:
                        - border: solid 1px '#434343'
                        - box-shadow: none
                      icon:
                        - color: white
                    id: desarmee
                tap_action:
                  action: navigate
                  navigation_path: securite
              - type: custom:button-card
                entity: binary_sensor.docker_hub_update_available
                name: Système
                icon: mdi:server-network
                show_icon: true
                size: 60%
                aspect_ratio: 1/1
                card_mod:
                  style: |
                    ha-card {
                      box-shadow:                   
                          -5px -5px 8px 0 rgba(255,255,255,.5),5px 5px 8px 0 rgba(0,0,0,.03);
                    }
                custom_fields: null
                styles:
                  custom_fields: null
                  name:
                    - font-size: 14px
                    - color: var(--text-color)
                    - position: absolute
                    - top: 75%
                    - padding-bottom: '-20px'
                  card:
                    - background-color: '#64b9fa'
                    - border-radius: 20px
                  grid:
                    - position: absolute
                state:
                  - value: 'on'
                    styles:
                      card:
                        - border: solid 1px '#efaff9'
                      icon:
                        - color: white
                    id: maj
                  - value: 'off'
                    styles:
                      card:
                        - border: solid 1px '#434343'
                        - box-shadow: none
                      icon:
                        - color: white
                    id: jour
                tap_action:
                  action: navigate
                  navigation_path: systeme
  - title: Maison
    path: maison
    icon: mdi:home
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-chips-card
                chips:
                  - type: back
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: person.thomas
                    use_entity_picture: true
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: person.delphine
                    use_entity_picture: true
              - type: custom:mushroom-chips-card
                chips:
                  - type: action
                    tap_action:
                      action: navigate
                      navigation_path: temperature
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    icon: mdi:temperature-celsius
                  - type: action
                    icon: mdi:flower
                    tap_action:
                      action: navigate
                      navigation_path: plantes-interieures
                alignment: end
          - type: conditional
            conditions:
              - entity: climate.piece_de_vie
                state_not: 'off'
            card:
              type: picture-elements
              image: /local/netatmo/background.png
              elements:
                - type: image
                  entity: climate.piece_de_vie
                  title: mode absent
                  tap_action:
                    action: call-service
                    service: Script.netatmo_mode_absent
                  hold_action:
                    action: more-info
                  image: /local/netatmo/absent.png
                  style:
                    top: 37%
                    left: 53.6%
                    width: 10%
                - type: image
                  entity: climate.piece_de_vie
                  title: mode planifié
                  tap_action:
                    action: call-service
                    service: Script.netatmo_mode_schedule
                  hold_action:
                    action: more-info
                  image: /local/netatmo/chauffe.png
                  style:
                    top: 37%
                    left: 69.6%
                    width: 12%
                - type: image
                  entity: climate.piece_de_vie
                  title: mode off
                  tap_action:
                    action: call-service
                    service: Script.netatmo_mode_off
                  hold_action:
                    action: more-info
                  image: /local/netatmo/off.png
                  style:
                    top: 37%
                    left: 86%
                    width: 09%
                - type: image
                  entity: climate.piece_de_vie
                  title: Up Consigne
                  tap_action:
                    action: call-service
                    service: Script.netatmo_increment_consigne
                  hold_action:
                    action: more-info
                  image: /local/netatmo/plus.png
                  style:
                    top: 67.5%
                    left: 78.4%
                    width: 6%
                - type: image
                  entity: climate.piece_de_vie
                  title: Down Consigne
                  tap_action:
                    action: call-service
                    service: Script.netatmo_decrement_consigne
                  hold_action:
                    action: more-info
                  image: /local/netatmo/moins.png
                  style:
                    top: 67.5%
                    left: 61.5%
                    width: 6%
                - type: image
                  entity: sensor.netatmo_hvac_action
                  title: Temoin Chauffe
                  tap_action:
                    action: none
                  image: /local/netatmo/iddle_on.png
                  style:
                    top: 74%
                    left: 25.5%
                    width: 7%
                  state_filter:
                    'off': opacity(0%)
                    'on': brightness(100%) saturate(1)
                - type: image
                  entity: sensor.netatmo_preset_mode
                  title: schedule
                  tap_action:
                    action: none
                  image: /local/netatmo/chauffe.png
                  style:
                    top: 30%
                    left: 39%
                    width: 12%
                  state_filter:
                    boost: opacity(0%)
                    Schedule: brightness(100%) saturate(1)
                    away: opacity(0%)
                    Frost Guard: opacity(0%)
                - type: image
                  entity: sensor.netatmo_preset_mode
                  title: absent
                  tap_action:
                    action: none
                  image: /local/netatmo/absent.png
                  style:
                    top: 30%
                    left: 39%
                    width: 9%
                  state_filter:
                    boost: opacity(0%)
                    Schedule: opacity(0%)
                    away: brightness(100%) saturate(1)
                    Frost Guard: opacity(0%)
                - type: state-label
                  entity: sensor.netatmo_temperature_courante
                  unit_of_measurement: .
                  style:
                    top: 55%
                    left: 25.5%
                    font-size: 1.9em
                    color: black
                    font-weight: 600
                - type: state-label
                  entity: sensor.netatmo_temperature_consigne
                  style:
                    top: 25%
                    left: 25.5%
                    font-size: 1em
                    color: white
                    font-weight: 600
          - type: custom:mushroom-title-card
            title: ''
            subtitle: Rez-de-Chaussé
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: light.lampe_salon
                name: Salon
                icon: mdi:sofa
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.netatmo_temperature_courante'].state ) + "°C";
                  ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 15px
                    - margin-left: 5px
                  icon:
                    - place-self: start
                    - width: 80%
                  name:
                    - top: 25%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: lightgrey
                    - top: 15%
                    - left: 50%
                    - font-size: 90%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.netatmo_temperature_courante'].state < 19)
                            return 'dodgerblue';
                          if (states['sensor.netatmo_temperature_courante'].state > 24)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 40%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 120%
                    - position: absolute
                  card:
                    - height: 100px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    notification:
                      - background-color: |
                          [[[
                            if (states['sensor.all_lights_salon'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'rgba(128,128,128,0.0)';
                          ]]]
                      - color: |
                          [[[
                            if (states['sensor.all_lights_salon'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'var(--text_on)';
                          ]]]
                      - border-radius: 50%
                      - position: absolute
                      - left: 2%
                      - top: 1%
                      - height: 16%
                      - width: 15%
                      - font-size: 90%
                      - line-height: 137%
                      - font-weight: bold
                    lum:
                      - position: absolute
                      - top: '-01%'
                      - left: 55%
                      - width: calc(80% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    ic:
                      - position: absolute
                      - top: 37%
                      - left: 80%
                      - width: calc(55% + 1px)
                      - transform: translate(-35%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    volet:
                      - position: absolute
                      - top: 18%
                      - left: 71%
                      - width: calc(50% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 110%
                      - left: 40%
                      - width: calc(85% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                  - value: 'off'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                custom_fields:
                  notification: >
                    [[[ return
                    Math.floor(states['sensor.all_lights_salon'].state ) ]]]
                  lum:
                    card:
                      type: conditional
                      conditions:
                        - entity: light.lampe_salon
                          state: 'on'
                      card:
                        type: custom:my-slider
                        entity: light.lampe_salon
                        radius: 5px
                        height: 8px
                        mainSliderColor: var(--button-card-light-color-no-temperature)
                        thumbHorizontalPadding: 0px
                        thumbVerticalPadding: 0px
                        thumbWidth: 2px
                  ic:
                    card:
                      type: grid
                      cards:
                        - type: custom:button-card
                          entity: >-
                            binary_sensor.capteur_ouverture_02_salon_door_state_2
                          show_name: false
                          styles:
                            icon:
                              - width: 22%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:window-open-variant
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:window-closed-variant
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                        - type: custom:button-card
                          entity: binary_sensor.mouvement_07_salon_occupancy
                          show_name: false
                          styles:
                            icon:
                              - width: 20%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:run-fast
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:exit-run
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                      columns: 1
                      square: false
                  volet:
                    card:
                      type: custom:button-card
                      entity: cover.volet_battant_2
                      show_name: false
                      styles:
                        icon:
                          - width: 25%
                        card:
                          - background: transparent
                          - 'border-color:': transparent
                      tap_action:
                        action: toggle
                      hold_action:
                        action: fire-dom-event
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: sensor.netatmo_temperature_courante
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
                double_tap_action:
                  action: fire-dom-event
                  browser_mod:
                    command: popup
                    title: Informations Salon
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:button-card
                          style:
                            .: |
                              ha-card {
                                  --ha-card-background: none !important;
                                  box-shadow: none !important;
                                  font-family: Avenir
                          show_icon: false
                          show_name: false
                          show_state: false
                          show_label: true
                          label: |
                            [[[ return "Capteurs" ]]]
                          styles:
                            label:
                              - justify-self: center
                              - font-size: 15px
                              - font-weight: bold
                              - font-style: italic
                              - color: black
                            card:
                              - height: 20px
                        - type: horizontal-stack
                          cards:
                            - type: custom:button-card
                              entity: sensor.netatmo_temperature_courante
                              name: Température
                              template:
                                - popup_capteur
                            - type: custom:button-card
                              entity: >-
                                binary_sensor.presence_garage_home_security_motion_detection
                              show_last_changed: true
                              show_state: true
                              name: Salon
                              template:
                                - popup_capteur
                        - type: custom:button-card
                          style:
                            .: |
                              ha-card {
                                  --ha-card-background: none !important;
                                  box-shadow: none !important;
                                  font-family: Avenir
                          show_icon: false
                          show_name: false
                          show_state: false
                          show_label: true
                          label: |
                            [[[ return "Lumières" ]]]
                          styles:
                            label:
                              - justify-self: center
                              - font-size: 15px
                              - font-weight: bold
                              - font-style: italic
                              - color: black
                            card:
                              - height: 20px
                        - type: grid
                          columns: 2
                          square: false
                          cards:
                            - type: custom:button-card
                              entity: light.lampe_salon
                              template:
                                - popup_light
                              name: Lampe TV
                              icon: null
                              custom_fields:
                                lum:
                                  card:
                                    type: conditional
                                    conditions:
                                      - entity: light.lampe_salon
                                        state: 'on'
                                    card:
                                      type: custom:my-slider
                                      entity: light.lampe_salon
                                      radius: 5px
                                      height: 15px
                                      mainSliderColor: >-
                                        var(--button-card-light-color-no-temperature)
                                      thumbHorizontalPadding: 0px
                                      thumbVerticalPadding: 0px
                                      thumbWidth: 2px
                                      minSet: 1
                            - type: custom:button-card
                              entity: light.lumiere_02_spot_salon
                              name: Spot salon
                              template:
                                - popup_light
                              custom_fields:
                                lum:
                                  card:
                                    type: conditional
                                    conditions:
                                      - entity: light.lumiere_02_spot_salon
                                        state: 'on'
                                    card:
                                      type: custom:my-slider
                                      entity: light.lumiere_02_spot_salon
                                      radius: 5px
                                      height: 15px
                                      mainSliderColor: >-
                                        var(--button-card-light-color-no-temperature)
                                      thumbHorizontalPadding: 0px
                                      thumbVerticalPadding: 0px
                                      thumbWidth: 2px
                                      minSet: 1
              - type: custom:button-card
                entity: light.sam
                name: SàM
                icon: mdi:table-chair
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.netatmo_maison_piece_de_vie_temperature'].state
                  ) + "°C"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 15px
                    - margin-left: 5px
                  icon:
                    - place-self: start
                    - width: 70%
                  name:
                    - top: 25%
                    - left: 36%
                    - font-size: 115%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: lightgrey
                    - top: 15%
                    - left: 50%
                    - font-size: 90%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.netatmo_maison_piece_de_vie_temperature'].state < 19)
                            return 'dodgerblue';
                          if (states['sensor.netatmo_maison_piece_de_vie_temperature'].state > 24)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 40%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 120%
                    - position: absolute
                  card:
                    - height: 100px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    notification:
                      - background-color: |
                          [[[
                            if (states['sensor.all_lights_sam'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'rgba(128,128,128,0.0)';
                          ]]]
                      - color: |
                          [[[
                            if (states['sensor.all_lights_sam'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'var(--text_on)';
                          ]]]
                      - border-radius: 50%
                      - position: absolute
                      - left: 2%
                      - top: 1%
                      - height: 16%
                      - width: 15%
                      - font-size: 90%
                      - line-height: 137%
                      - font-weight: bold
                    lum:
                      - position: absolute
                      - top: '-01%'
                      - left: 55%
                      - width: calc(80% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    ic:
                      - position: absolute
                      - top: 37%
                      - left: 80%
                      - width: calc(55% + 1px)
                      - transform: translate(-35%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 110%
                      - left: 40%
                      - width: calc(85% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                      label:
                        - color: |
                            [[[
                              if (states['sensor.netatmo_maison_piece_de_vie_temperature'].state < 19)
                                return 'dodgerblue';
                              if (states['sensor.netatmo_maison_piece_de_vie_temperature'].state > 24)
                                return 'red';
                             return 'darkgrey';
                            ]]]
                  - value: 'off'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                      label:
                        - color: |
                            [[[
                              if (states['sensor.netatmo_maison_piece_de_vie_temperature'].state < 19)
                                return 'dodgerblue';
                              if (states['sensor.netatmo_maison_piece_de_vie_temperature'].state > 24)
                                return 'red';
                             return 'grey';
                            ]]]
                custom_fields:
                  notification: >
                    [[[ return Math.floor(states['sensor.all_lights_sam'].state
                    ) ]]]
                  lum:
                    card:
                      type: conditional
                      conditions:
                        - entity: light.sam
                          state: 'on'
                      card:
                        type: custom:my-slider
                        entity: light.sam
                        radius: 5px
                        height: 8px
                        mainSliderColor: var(--button-card-light-color-no-temperature)
                        thumbHorizontalPadding: 0px
                        thumbVerticalPadding: 0px
                        thumbWidth: 2px
                  ic:
                    card:
                      type: grid
                      cards:
                        - type: custom:button-card
                          entity: >-
                            binary_sensor.capteur_ouverture_02_salon_cover_status_2
                          show_name: false
                          styles:
                            icon:
                              - width: 22%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:window-open-variant
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:window-closed-variant
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                        - type: custom:button-card
                          entity: binary_sensor.mouvement_06_salle_a_manger_occupancy
                          show_name: false
                          styles:
                            icon:
                              - width: 20%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:run-fast
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:exit-run
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                      columns: 1
                      square: false
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: sensor.netatmo_maison_piece_de_vie_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: light.lumiere_01_spot_entree
                name: Entrée
                icon: mdi:door
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.netatmo_maison_piece_de_vie_temperature'].state
                  ) + "°C"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 10px
                    - margin-left: 15px
                  icon:
                    - place-self: start
                    - width: 90%
                  name:
                    - top: 19%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: lightgrey
                    - top: 15%
                    - left: 50%
                    - font-size: 90%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.netatmo_maison_piece_de_vie_temperature'].state < 19)
                            return 'dodgerblue';
                          if (states['sensor.netatmo_maison_piece_de_vie_temperature'].state > 24)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 37%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 120%
                    - position: absolute
                  card:
                    - height: 100px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    notification:
                      - background-color: |
                          [[[
                            if (states['sensor.all_lights_entree'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'rgba(128,128,128,0.0)';
                          ]]]
                      - color: |
                          [[[
                            if (states['sensor.all_lights_entree'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'var(--text_on)';
                          ]]]
                      - border-radius: 50%
                      - position: absolute
                      - left: 2%
                      - top: 1%
                      - height: 16%
                      - width: 15%
                      - font-size: 90%
                      - line-height: 137%
                      - font-weight: bold
                    lum:
                      - position: absolute
                      - top: '-01%'
                      - left: 55%
                      - width: calc(80% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    ic:
                      - position: absolute
                      - top: 28%
                      - left: 65%
                      - width: calc(60% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 120%
                      - left: 50%
                      - width: calc(100% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                  - value: 'off'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                custom_fields:
                  notification: >
                    [[[ return
                    Math.floor(states['sensor.all_lights_entree'].state ) ]]]
                  lum:
                    card:
                      type: conditional
                      conditions:
                        - entity: group.all_lights_entree
                          state: 'on'
                      card:
                        type: custom:my-slider
                        entity: light.spot_entree
                        radius: 5px
                        height: 8px
                        mainSliderColor: var(--button-card-light-color-no-temperature)
                        thumbHorizontalPadding: 0px
                        thumbVerticalPadding: 0px
                        thumbWidth: 2px
                  ic:
                    card:
                      type: grid
                      cards:
                        - type: custom:button-card
                          color_style: blank-card
                        - type: custom:button-card
                          color_style: blank-card
                        - type: custom:button-card
                          entity: >-
                            binary_sensor.presence_garage_home_security_motion_detection
                          show_name: false
                          styles:
                            icon:
                              - width: 60%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              styles:
                                icon:
                                  - color: transparent
                          tap_action:
                            action: more-info
                      columns: 3
                      square: false
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: sensor.netatmo_maison_piece_de_vie_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
              - type: custom:button-card
                entity: light.lumiere_08_cuisine
                name: Cuisine
                icon: mdi:food
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.temp_humidite_05_cuisine_temperature'].state )
                  + "°C"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 15px
                    - margin-left: 5px
                  icon:
                    - place-self: start
                    - width: 90%
                  name:
                    - top: 25%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: lightgrey
                    - top: 15%
                    - left: 50%
                    - font-size: 90%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.temp_humidite_05_cuisine_temperature'].state < 19)
                            return 'dodgerblue';
                          if (states['sensor.temp_humidite_05_cuisine_temperature'].state > 24)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 40%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 120%
                    - position: absolute
                  card:
                    - height: 100px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    notification:
                      - background-color: |
                          [[[
                            if (states['sensor.all_lights_cuisine'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'rgba(128,128,128,0.0)';
                          ]]]
                      - color: |
                          [[[
                            if (states['sensor.all_lights_cuisine'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'var(--text_on)';
                          ]]]
                      - border-radius: 50%
                      - position: absolute
                      - left: 2%
                      - top: 1%
                      - height: 16%
                      - width: 15%
                      - font-size: 90%
                      - line-height: 137%
                      - font-weight: bold
                    lum:
                      - position: absolute
                      - top: '-01%'
                      - left: 55%
                      - width: calc(80% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    ic:
                      - position: absolute
                      - top: 37%
                      - left: 80%
                      - width: calc(55% + 1px)
                      - transform: translate(-35%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    volet:
                      - position: absolute
                      - top: 18%
                      - left: 71%
                      - width: calc(50% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 110%
                      - left: 40%
                      - width: calc(85% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                  - value: 'off'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                custom_fields:
                  notification: >
                    [[[ return
                    Math.floor(states['sensor.all_lights_cuisine'].state ) ]]]
                  lum:
                    card:
                      type: conditional
                      conditions:
                        - entity: light.lumiere_08_cuisine
                          state: 'on'
                      card:
                        type: custom:my-slider
                        entity: light.lumiere_08_cuisine
                        radius: 5px
                        height: 8px
                        mainSliderColor: var(--button-card-light-color-no-temperature)
                        thumbHorizontalPadding: 0px
                        thumbVerticalPadding: 0px
                        thumbWidth: 2px
                  ic:
                    card:
                      type: grid
                      cards:
                        - type: custom:button-card
                          entity: >-
                            binary_sensor.capteur_ouverture_02_salon_door_state_2
                          show_name: false
                          styles:
                            icon:
                              - width: 22%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:window-open-variant
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:window-closed-variant
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                        - type: custom:button-card
                          entity: binary_sensor.mouvement_05_cuisine_occupancy
                          show_name: false
                          styles:
                            icon:
                              - width: 20%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:run-fast
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:exit-run
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                      columns: 1
                      square: false
                  volet:
                    card:
                      type: custom:button-card
                      entity: cover.volet_battant_3
                      show_name: false
                      styles:
                        icon:
                          - width: 25%
                        card:
                          - background: transparent
                          - 'border-color:': transparent
                      tap_action:
                        action: toggle
                      hold_action:
                        action: fire-dom-event
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: sensor.temp_humidite_05_cuisine_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: light.salle_de_jeux
                name: Ludothèque
                icon: mdi:gamepad-variant
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.temp_humidite_01_salle_de_jeux_temperature'].state
                  ) + "°C"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 15px
                    - margin-left: 5px
                  icon:
                    - place-self: start
                    - width: 80%
                  name:
                    - top: 25%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: lightgrey
                    - top: 15%
                    - left: 50%
                    - font-size: 90%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.temp_humidite_01_salle_de_jeux_temperature'].state < 19)
                            return 'dodgerblue';
                          if (states['sensor.temp_humidite_01_salle_de_jeux_temperature'].state > 24)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 40%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 120%
                    - position: absolute
                  card:
                    - height: 100px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    notification:
                      - background-color: |
                          [[[
                            if (states['sensor.all_lights_cuisine'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'rgba(128,128,128,0.0)';
                          ]]]
                      - color: |
                          [[[
                            if (states['sensor.all_lights_cuisine'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'var(--text_on)';
                          ]]]
                      - border-radius: 50%
                      - position: absolute
                      - left: 2%
                      - top: 1%
                      - height: 16%
                      - width: 15%
                      - font-size: 90%
                      - line-height: 137%
                      - font-weight: bold
                    lum:
                      - position: absolute
                      - top: '-01%'
                      - left: 55%
                      - width: calc(80% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    ic:
                      - position: absolute
                      - top: 37%
                      - left: 80%
                      - width: calc(55% + 1px)
                      - transform: translate(-35%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 110%
                      - left: 40%
                      - width: calc(85% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                  - value: 'off'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                custom_fields:
                  notification: >
                    [[[ return
                    Math.floor(states['sensor.all_lights_cuisine'].state ) ]]]
                  lum:
                    card:
                      type: conditional
                      conditions:
                        - entity: light.salle_de_jeux
                          state: 'on'
                      card:
                        type: custom:my-slider
                        entity: light.salle_de_jeux
                        radius: 5px
                        height: 8px
                        mainSliderColor: var(--button-card-light-color-no-temperature)
                        thumbHorizontalPadding: 0px
                        thumbVerticalPadding: 0px
                        thumbWidth: 2px
                  ic:
                    card:
                      type: grid
                      cards:
                        - type: custom:button-card
                          entity: binary_sensor.capteur_ouverture_01_salon_door_state
                          show_name: false
                          styles:
                            icon:
                              - width: 22%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:window-open-variant
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:window-closed-variant
                              styles:
                                icon:
                                  - color: green
                        - type: custom:button-card
                          entity: binary_sensor.mouvement_01_salle_de_jeux_occupancy
                          show_name: false
                          styles:
                            icon:
                              - width: 20%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:run-fast
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:exit-run
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                      columns: 1
                      square: false
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: sensor.temp_humidite_01_salle_de_jeux_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
              - type: custom:button-card
                entity: light.bureau
                name: Bureau
                icon: mdi:desktop-mac-dashboard
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.temp_humidite_06_bureau_temperature'].state )
                  + "°C"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 15px
                    - margin-left: 5px
                  icon:
                    - place-self: start
                    - width: 70%
                  name:
                    - top: 25%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: lightgrey
                    - top: 15%
                    - left: 50%
                    - font-size: 90%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.temp_humidite_06_bureau_temperature'].state < 19)
                            return 'dodgerblue';
                          if (states['sensor.temp_humidite_06_bureau_temperature'].state > 24)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 40%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 120%
                    - position: absolute
                  card:
                    - height: 100px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    notification:
                      - background-color: |
                          [[[
                            if (states['sensor.all_lights_cuisine'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'rgba(128,128,128,0.0)';
                          ]]]
                      - color: |
                          [[[
                            if (states['sensor.all_lights_cuisine'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'var(--text_on)';
                          ]]]
                      - border-radius: 50%
                      - position: absolute
                      - left: 2%
                      - top: 1%
                      - height: 16%
                      - width: 15%
                      - font-size: 90%
                      - line-height: 137%
                      - font-weight: bold
                    lum:
                      - position: absolute
                      - top: '-01%'
                      - left: 55%
                      - width: calc(80% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    ic:
                      - position: absolute
                      - top: 37%
                      - left: 80%
                      - width: calc(55% + 1px)
                      - transform: translate(-35%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 110%
                      - left: 40%
                      - width: calc(85% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                      label:
                        - color: |
                            [[[
                              if (states['sensor.temp_humidite_06_bureau_temperature'].state < 19)
                                return 'dodgerblue';
                              if (states['sensor.temp_humidite_06_bureau_temperature'].state > 24)
                                return 'red';
                             return 'darkgrey';
                            ]]]
                  - value: 'off'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                custom_fields:
                  notification: >
                    [[[ return
                    Math.floor(states['sensor.all_lights_cuisine'].state ) ]]]
                  lum:
                    card:
                      type: conditional
                      conditions:
                        - entity: light.bureau
                          state: 'on'
                      card:
                        type: custom:my-slider
                        entity: light.bureau
                        radius: 5px
                        height: 8px
                        mainSliderColor: var(--button-card-light-color-no-temperature)
                        thumbHorizontalPadding: 0px
                        thumbVerticalPadding: 0px
                        thumbWidth: 2px
                  ic:
                    card:
                      type: grid
                      cards:
                        - type: custom:button-card
                          entity: binary_sensor.capteur_ouverture_01_salon_door_state
                          show_name: false
                          styles:
                            icon:
                              - width: 22%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:window-open-variant
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:window-closed-variant
                              styles:
                                icon:
                                  - color: green
                        - type: custom:button-card
                          entity: binary_sensor.mouvement_08_bureau_presence
                          show_name: false
                          styles:
                            icon:
                              - width: 20%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:run-fast
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:exit-run
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                      columns: 1
                      square: false
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: sensor.temp_humidite_06_bureau_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: light.sdb
                name: Salle de bain
                icon: mdi:bathtub
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.temp_humidite_08_salle_de_bain_temperature'].state
                  ) + "°C"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 15px
                    - margin-left: 5px
                  icon:
                    - place-self: start
                    - width: 70%
                  name:
                    - top: 19%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: lightgrey
                    - top: 15%
                    - left: 50%
                    - font-size: 90%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.temp_humidite_08_salle_de_bain_temperature'].state < 21)
                            return 'dodgerblue';
                          if (states['sensor.temp_humidite_08_salle_de_bain_temperature'].state > 25)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 37%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 120%
                    - position: absolute
                  card:
                    - height: 100px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    notification:
                      - background-color: |
                          [[[
                            if (states['sensor.all_lights_cuisine'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'rgba(128,128,128,0.0)';
                          ]]]
                      - color: |
                          [[[
                            if (states['sensor.all_lights_cuisine'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'var(--text_on)';
                          ]]]
                      - border-radius: 50%
                      - position: absolute
                      - left: 2%
                      - top: 1%
                      - height: 16%
                      - width: 15%
                      - font-size: 90%
                      - line-height: 137%
                      - font-weight: bold
                    humidite:
                      - color: |
                          [[[
                            if (states['sensor.temp_humidite_08_salle_de_bain_temperature'].state < 21)
                              return 'dodgerblue';
                            if (states['sensor.temp_humidite_08_salle_de_bain_temperature'].state > 25)
                              return 'red';
                            return 'darkgrey';
                          ]]]
                      - top: 55%
                      - left: 36%
                      - font-weight: bold
                      - font-size: 120%
                      - position: absolute
                    lum:
                      - position: absolute
                      - top: '-01%'
                      - left: 55%
                      - width: calc(80% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    ic:
                      - position: absolute
                      - top: 28%
                      - left: 65%
                      - width: calc(60% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 120%
                      - left: 50%
                      - width: calc(100% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                      label:
                        - color: |
                            [[[
                              if (states['sensor.temp_humidite_08_salle_de_bain_temperature'].state < 19)
                                return 'dodgerblue';
                              if (states['sensor.temp_humidite_08_salle_de_bain_temperature'].state > 24)
                                return 'red';
                             return 'darkgrey';
                            ]]]
                  - value: 'off'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                      name:
                        - color: grey
                      label:
                        - color: |
                            [[[
                              if (states['sensor.temp_humidite_08_salle_de_bain_temperature'].state < 19)
                                return 'dodgerblue';
                              if (states['sensor.temp_humidite_08_salle_de_bain_temperature'].state > 24)
                                return 'red';
                             return 'grey';
                            ]]]
                custom_fields:
                  notification: >
                    [[[ return Math.floor(states['sensor.all_lights_sam'].state
                    ) ]]]
                  humidite: >
                    [[[ return
                    (states['sensor.temp_humidite_08_salle_de_bain_humidity'].state)
                    + "%"; ]]]
                  lum:
                    card:
                      type: conditional
                      conditions:
                        - entity: light.sam
                          state: 'on'
                      card:
                        type: custom:my-slider
                        entity: light.sam
                        radius: 5px
                        height: 8px
                        mainSliderColor: var(--button-card-light-color-no-temperature)
                        thumbHorizontalPadding: 0px
                        thumbVerticalPadding: 0px
                        thumbWidth: 2px
                  ic:
                    card:
                      type: grid
                      cards:
                        - type: custom:button-card
                          color_style: blank-card
                        - type: custom:button-card
                          color_style: blank-card
                        - type: custom:button-card
                          entity: >-
                            binary_sensor.presence_garage_home_security_motion_detection
                          show_name: false
                          styles:
                            icon:
                              - width: 60%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              styles:
                                icon:
                                  - color: transparent
                          tap_action:
                            action: more-info
                      columns: 3
                      square: false
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: sensor.temp_humidite_08_salle_de_bain_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
              - type: custom:button-card
                entity: binary_sensor.detecteur_fumee_01_rdc_alarm_status
                name: Fumée
                icon: mdi:smoke-detector-variant
                show_icon: true
                show_name: true
                show_state: true
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 15px
                    - margin-left: 5px
                  icon:
                    - place-self: start
                    - width: 70%
                  name:
                    - top: 25%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: grey
                    - top: 45%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  card:
                    - height: 100px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                  - value: 'off'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
          - type: custom:mushroom-title-card
            title: ''
            subtitle: 1ier étage
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: group.all_lights_parents
                name: Parents
                icon: mdi:bed
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.netatmo_maison_piece_de_vie_chambre_parentale_temperature'].state
                  ) + "°C"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 15px
                    - margin-left: 5px
                  icon:
                    - place-self: start
                    - width: 70%
                  name:
                    - top: 25%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.netatmo_maison_piece_de_vie_chambre_parentale_temperature'].state < 19)
                            return 'dodgerblue';
                          if (states['sensor.netatmo_maison_piece_de_vie_chambre_parentale_temperature'].state > 24)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 40%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 120%
                    - position: absolute
                  card:
                    - height: 100px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    notification:
                      - background-color: |
                          [[[
                            if (states['sensor.all_lights_parents'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'rgba(128,128,128,0.0)';
                          ]]]
                      - color: |
                          [[[
                            if (states['sensor.all_lights_parents'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'var(--text_on)';
                          ]]]
                      - border-radius: 50%
                      - position: absolute
                      - left: 2%
                      - top: 1%
                      - height: 16%
                      - width: 15%
                      - font-size: 90%
                      - line-height: 137%
                      - font-weight: bold
                    lum:
                      - position: absolute
                      - top: '-01%'
                      - left: 55%
                      - width: calc(80% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    ic:
                      - position: absolute
                      - top: 37%
                      - left: 80%
                      - width: calc(55% + 1px)
                      - transform: translate(-35%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    volet:
                      - position: absolute
                      - top: 18%
                      - left: 71%
                      - width: calc(50% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    velux:
                      - position: absolute
                      - top: 60%
                      - left: 71%
                      - width: calc(50% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 110%
                      - left: 40%
                      - width: calc(85% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                      label:
                        - color: |
                            [[[
                              if (states['sensor.netatmo_maison_piece_de_vie_chambre_parentale_temperature'].state < 19)
                                return 'dodgerblue';
                              if (states['sensor.netatmo_maison_piece_de_vie_chambre_parentale_temperature'].state > 24)
                                return 'red';
                             return 'darkgrey';
                            ]]]
                  - value: 'off'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                      name:
                        - color: grey
                      label:
                        - color: |
                            [[[
                              if (states['sensor.netatmo_maison_piece_de_vie_chambre_parentale_temperature'].state < 19)
                                return 'dodgerblue';
                              if (states['sensor.netatmo_maison_piece_de_vie_chambre_parentale_temperature'].state > 24)
                                return 'red';
                             return 'grey';
                            ]]]
                custom_fields:
                  notification: >
                    [[[ return
                    Math.floor(states['sensor.all_lights_parents'].state ) ]]]
                  lum:
                    card:
                      type: conditional
                      conditions:
                        - entity: group.all_lights_parents
                          state: 'on'
                      card:
                        type: custom:my-slider
                        entity: light.parents
                        radius: 5px
                        height: 8px
                        mainSliderColor: var(--button-card-light-color-no-temperature)
                        thumbHorizontalPadding: 0px
                        thumbVerticalPadding: 0px
                        thumbWidth: 2px
                  ic:
                    card:
                      type: grid
                      cards:
                        - type: custom:button-card
                          entity: >-
                            binary_sensor.capteur_ouverture_06_parents_velux_contact
                          show_name: false
                          styles:
                            icon:
                              - width: 22%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:window-open-variant
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:window-closed-variant
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                        - type: custom:button-card
                          entity: binary_sensor.mouvement_07_salon_occupancy
                          show_name: false
                          styles:
                            icon:
                              - width: 20%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:run-fast
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:exit-run
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                      columns: 1
                      square: false
                  volet:
                    card:
                      type: custom:button-card
                      entity: cover.volet_chambre_parentale
                      show_name: false
                      styles:
                        icon:
                          - width: 25%
                        card:
                          - background: transparent
                          - 'border-color:': transparent
                      tap_action:
                        action: toggle
                      hold_action:
                        action: fire-dom-event
                  velux:
                    card:
                      type: custom:button-card
                      entity: cover.velux_chambre_parentale_2
                      show_name: false
                      styles:
                        icon:
                          - width: 29%
                        card:
                          - background: transparent
                          - 'border-color:': transparent
                      tap_action:
                        action: toggle
                      hold_action:
                        action: fire-dom-event
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: >-
                            sensor.netatmo_maison_piece_de_vie_chambre_parentale_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
              - type: custom:button-card
                entity: light.salle_eau
                name: Salle d'eau
                icon: mdi:shower-head
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.temp_humidite_09_salle_de_douche_temperature'].state
                  ) + "°C"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 15px
                    - margin-left: 5px
                  icon:
                    - place-self: start
                    - width: 80%
                  name:
                    - top: 19%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: lightgrey
                    - top: 15%
                    - left: 50%
                    - font-size: 90%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.temp_humidite_08_salle_de_bain_temperature'].state < 21)
                            return 'dodgerblue';
                          if (states['sensor.temp_humidite_08_salle_de_bain_temperature'].state > 25)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 37%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 120%
                    - position: absolute
                  card:
                    - height: 100px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    notification:
                      - background-color: |
                          [[[
                            if (states['sensor.all_lights_cuisine'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'rgba(128,128,128,0.0)';
                          ]]]
                      - color: |
                          [[[
                            if (states['sensor.all_lights_cuisine'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'var(--text_on)';
                          ]]]
                      - border-radius: 50%
                      - position: absolute
                      - left: 2%
                      - top: 1%
                      - height: 16%
                      - width: 15%
                      - font-size: 90%
                      - line-height: 137%
                      - font-weight: bold
                    humidite:
                      - color: |
                          [[[
                            if (states['sensor.temp_humidite_08_salle_de_bain_temperature'].state < 21)
                              return 'dodgerblue';
                            if (states['sensor.temp_humidite_08_salle_de_bain_temperature'].state > 25)
                              return 'red';
                            return 'darkgrey';
                          ]]]
                      - top: 55%
                      - left: 36%
                      - font-weight: bold
                      - font-size: 120%
                      - position: absolute
                    lum:
                      - position: absolute
                      - top: '-01%'
                      - left: 55%
                      - width: calc(80% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    ic:
                      - position: absolute
                      - top: 28%
                      - left: 65%
                      - width: calc(60% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 120%
                      - left: 50%
                      - width: calc(100% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                      label:
                        - color: |
                            [[[
                              if (states['sensor.temp_humidite_09_salle_de_douche_temperature'].state < 21)
                                return 'dodgerblue';
                              if (states['sensor.temp_humidite_09_salle_de_douche_temperature'].state > 25)
                                return 'red';
                             return 'darkgrey';
                            ]]]
                  - value: 'off'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                      name:
                        - color: grey
                      label:
                        - color: |
                            [[[
                              if (states['sensor.temp_humidite_09_salle_de_douche_temperature'].state < 21)
                                return 'dodgerblue';
                              if (states['sensor.temp_humidite_09_salle_de_douche_temperature'].state > 25)
                                return 'red';
                             return 'grey';
                            ]]]
                custom_fields:
                  notification: >
                    [[[ return Math.floor(states['sensor.all_lights_sam'].state
                    ) ]]]
                  humidite: >
                    [[[ return
                    (states['sensor.temp_humidite_09_salle_de_douche_humidity'].state)
                    + "%"; ]]]
                  lum:
                    card:
                      type: conditional
                      conditions:
                        - entity: light.sam
                          state: 'on'
                      card:
                        type: custom:my-slider
                        entity: light.sam
                        radius: 5px
                        height: 8px
                        mainSliderColor: var(--button-card-light-color-no-temperature)
                        thumbHorizontalPadding: 0px
                        thumbVerticalPadding: 0px
                        thumbWidth: 2px
                  ic:
                    card:
                      type: grid
                      cards:
                        - type: custom:button-card
                          color_style: blank-card
                        - type: custom:button-card
                          color_style: blank-card
                        - type: custom:button-card
                          entity: >-
                            binary_sensor.presence_garage_home_security_motion_detection
                          show_name: false
                          styles:
                            icon:
                              - width: 60%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              styles:
                                icon:
                                  - color: transparent
                          tap_action:
                            action: more-info
                      columns: 3
                      square: false
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: sensor.temp_humidite_09_salle_de_douche_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: light.maxence
                name: Maxence
                icon: mdi:bed
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.temp_humidite_07_chambre_maxence_temperature'].state
                  ) + "°C"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 15px
                    - margin-left: 5px
                  icon:
                    - place-self: start
                    - width: 70%
                  name:
                    - top: 25%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: lightgrey
                    - top: 15%
                    - left: 50%
                    - font-size: 90%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.temp_humidite_07_chambre_maxence_temperature'].state < 19)
                            return 'dodgerblue';
                          if (states['sensor.temp_humidite_07_chambre_maxence_temperature'].state > 24)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 40%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 120%
                    - position: absolute
                  card:
                    - height: 100px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    notification:
                      - background-color: |
                          [[[
                            if (states['sensor.all_lights_maxence'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'rgba(128,128,128,0.0)';
                          ]]]
                      - color: |
                          [[[
                            if (states['sensor.all_lights_maxence'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'var(--text_on)';
                          ]]]
                      - border-radius: 50%
                      - position: absolute
                      - left: 2%
                      - top: 1%
                      - height: 16%
                      - width: 15%
                      - font-size: 90%
                      - line-height: 137%
                      - font-weight: bold
                    lum:
                      - position: absolute
                      - top: '-01%'
                      - left: 55%
                      - width: calc(80% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    ic:
                      - position: absolute
                      - top: 28%
                      - left: 65%
                      - width: calc(60% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    volet:
                      - position: absolute
                      - top: 20%
                      - left: 86%
                      - width: calc(60% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    velux:
                      - position: absolute
                      - top: 60%
                      - left: 86%
                      - width: calc(60% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 110%
                      - left: 40%
                      - width: calc(85% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                      label:
                        - color: |
                            [[[
                              if (states['sensor.temp_humidite_07_chambre_maxence_temperature'].state < 19)
                                return 'dodgerblue';
                              if (states['sensor.temp_humidite_07_chambre_maxence_temperature'].state > 24)
                                return 'red';
                             return 'darkgrey';
                            ]]]
                  - value: 'off'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                      name:
                        - color: grey
                      label:
                        - color: |
                            [[[
                              if (states['sensor.temp_humidite_07_chambre_maxence_temperature'].state < 19)
                                return 'dodgerblue';
                              if (states['sensor.temp_humidite_07_chambre_maxence_temperature'].state > 24)
                                return 'red';
                             return 'grey';
                            ]]]
                custom_fields:
                  notification: >
                    [[[ return
                    Math.floor(states['sensor.all_lights_maxence'].state ) ]]]
                  lum:
                    card:
                      type: conditional
                      conditions:
                        - entity: light.maxence
                          state: 'on'
                      card:
                        type: custom:my-slider
                        entity: light.maxence
                        radius: 5px
                        height: 8px
                        mainSliderColor: var(--button-card-light-color-no-temperature)
                        thumbHorizontalPadding: 0px
                        thumbVerticalPadding: 0px
                        thumbWidth: 2px
                  ic:
                    card:
                      type: grid
                      cards:
                        - type: custom:button-card
                          color_style: blank-card
                        - type: custom:button-card
                          color_style: blank-card
                        - type: custom:button-card
                          entity: >-
                            binary_sensor.presence_garage_home_security_motion_detection
                          show_name: false
                          styles:
                            icon:
                              - width: 60%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              styles:
                                icon:
                                  - color: transparent
                          tap_action:
                            action: more-info
                      columns: 3
                      square: false
                  volet:
                    card:
                      type: custom:button-card
                      entity: cover.volet_battant
                      show_name: false
                      styles:
                        icon:
                          - width: 25%
                        card:
                          - background: transparent
                          - 'border-color:': transparent
                      tap_action:
                        action: toggle
                  velux:
                    card:
                      type: custom:button-card
                      entity: cover.shutter
                      show_name: false
                      styles:
                        icon:
                          - width: 29%
                        card:
                          - background: transparent
                          - 'border-color:': transparent
                      tap_action:
                        action: toggle
                      hold_action:
                        action: fire-dom-event
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: sensor.temp_humidite_07_chambre_maxence_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
              - type: custom:button-card
                entity: light.chloe
                name: Chloé
                icon: mdi:bed
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.temp_humidite_11_chambre_chloe_temperature'].state
                  ) + "°C"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 15px
                    - margin-left: 5px
                  icon:
                    - place-self: start
                    - width: 70%
                  name:
                    - top: 25%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: lightgrey
                    - top: 15%
                    - left: 50%
                    - font-size: 90%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.temp_humidite_11_chambre_chloe_temperature'].state < 19)
                            return 'dodgerblue';
                          if (states['sensor.temp_humidite_11_chambre_chloe_temperature'].state > 24)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 40%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 120%
                    - position: absolute
                  card:
                    - height: 100px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    notification:
                      - background-color: |
                          [[[
                            if (states['sensor.all_lights_chloe'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'rgba(128,128,128,0.0)';
                          ]]]
                      - color: |
                          [[[
                            if (states['sensor.all_lights_chloe'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'var(--text_on)';
                          ]]]
                      - border-radius: 50%
                      - position: absolute
                      - left: 2%
                      - top: 1%
                      - height: 16%
                      - width: 15%
                      - font-size: 90%
                      - line-height: 137%
                      - font-weight: bold
                    lum:
                      - position: absolute
                      - top: '-01%'
                      - left: 55%
                      - width: calc(80% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    ic:
                      - position: absolute
                      - top: 28%
                      - left: 65%
                      - width: calc(60% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    volet:
                      - position: absolute
                      - top: 20%
                      - left: 86%
                      - width: calc(60% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    velux:
                      - position: absolute
                      - top: 60%
                      - left: 86%
                      - width: calc(60% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 110%
                      - left: 40%
                      - width: calc(85% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                      label:
                        - color: |
                            [[[
                              if (states['sensor.temp_humidite_11_chambre_chloe_temperature'].state < 19)
                                return 'dodgerblue';
                              if (states['sensor.temp_humidite_11_chambre_chloe_temperature'].state > 24)
                                return 'red';
                             return 'darkgrey';
                            ]]]
                  - value: 'off'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                      name:
                        - color: grey
                      label:
                        - color: |
                            [[[
                              if (states['sensor.temp_humidite_11_chambre_chloe_temperature'].state < 19)
                                return 'dodgerblue';
                              if (states['sensor.temp_humidite_11_chambre_chloe_temperature'].state > 24)
                                return 'red';
                             return 'grey';
                            ]]]
                custom_fields:
                  notification: >
                    [[[ return
                    Math.floor(states['sensor.all_lights_chloe'].state ) ]]]
                  lum:
                    card:
                      type: conditional
                      conditions:
                        - entity: light.chloe
                          state: 'on'
                      card:
                        type: custom:my-slider
                        entity: light.chloe
                        radius: 5px
                        height: 8px
                        mainSliderColor: var(--button-card-light-color-no-temperature)
                        thumbHorizontalPadding: 0px
                        thumbVerticalPadding: 0px
                        thumbWidth: 2px
                  ic:
                    card:
                      type: grid
                      cards:
                        - type: custom:button-card
                          color_style: blank-card
                        - type: custom:button-card
                          color_style: blank-card
                        - type: custom:button-card
                          entity: >-
                            binary_sensor.presence_garage_home_security_motion_detection
                          show_name: false
                          styles:
                            icon:
                              - width: 60%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              styles:
                                icon:
                                  - color: transparent
                          tap_action:
                            action: more-info
                      columns: 3
                      square: false
                  volet:
                    card:
                      type: custom:button-card
                      entity: cover.volet_battant
                      show_name: false
                      styles:
                        icon:
                          - width: 25%
                        card:
                          - background: transparent
                          - 'border-color:': transparent
                      tap_action:
                        action: toggle
                      hold_action:
                        action: fire-dom-event
                  velux:
                    card:
                      type: custom:button-card
                      entity: cover.volet_chambre_chloe_2
                      show_name: false
                      styles:
                        icon:
                          - width: 29%
                        card:
                          - background: transparent
                          - 'border-color:': transparent
                      tap_action:
                        action: toggle
                      hold_action:
                        action: fire-dom-event
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: sensor.temp_humidite_11_chambre_chloe_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: light.en_haut
                name: Palier
                icon: mdi:home-floor-1
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.detecteur_fumee_02_pallier_air_temperature'].state
                  ) + "°C"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 15px
                    - margin-left: 5px
                  icon:
                    - place-self: start
                    - width: 70%
                  name:
                    - top: 25%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: lightgrey
                    - top: 15%
                    - left: 50%
                    - font-size: 90%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.detecteur_fumee_02_pallier_air_temperature'].state < 19)
                            return 'dodgerblue';
                          if (states['sensor.detecteur_fumee_02_pallier_air_temperature'].state > 24)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 40%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 120%
                    - position: absolute
                  card:
                    - height: 100px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    notification:
                      - background-color: |
                          [[[
                            if (states['sensor.all_lights_maxence'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'rgba(128,128,128,0.0)';
                          ]]]
                      - color: |
                          [[[
                            if (states['sensor.all_lights_maxence'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'var(--text_on)';
                          ]]]
                      - border-radius: 50%
                      - position: absolute
                      - left: 2%
                      - top: 1%
                      - height: 16%
                      - width: 15%
                      - font-size: 90%
                      - line-height: 137%
                      - font-weight: bold
                    lum:
                      - position: absolute
                      - top: '-01%'
                      - left: 55%
                      - width: calc(80% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    ic:
                      - position: absolute
                      - top: 37%
                      - left: 80%
                      - width: calc(55% + 1px)
                      - transform: translate(-35%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 110%
                      - left: 40%
                      - width: calc(85% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                      label:
                        - color: |
                            [[[
                              if (states['sensor.detecteur_fumee_02_pallier_air_temperature'].state < 19)
                                return 'dodgerblue';
                              if (states['sensor.detecteur_fumee_02_pallier_air_temperature'].state > 24)
                                return 'red';
                             return 'darkgrey';
                            ]]]
                  - value: 'off'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                      name:
                        - color: grey
                      label:
                        - color: |
                            [[[
                              if (states['sensor.detecteur_fumee_02_pallier_air_temperature'].state < 19)
                                return 'dodgerblue';
                              if (states['sensor.detecteur_fumee_02_pallier_air_temperature'].state > 24)
                                return 'red';
                             return 'grey';
                            ]]]
                custom_fields:
                  notification: >
                    [[[ return
                    Math.floor(states['sensor.all_lights_maxence'].state ) ]]]
                  lum:
                    card:
                      type: conditional
                      conditions:
                        - entity: light.en_haut
                          state: 'on'
                      card:
                        type: custom:my-slider
                        entity: light.en_haut
                        radius: 5px
                        height: 8px
                        mainSliderColor: var(--button-card-light-color-no-temperature)
                        thumbHorizontalPadding: 0px
                        thumbVerticalPadding: 0px
                        thumbWidth: 2px
                  ic:
                    card:
                      type: grid
                      cards:
                        - type: custom:button-card
                          entity: binary_sensor.capteur_ouverture_01_salon_door_state
                          show_name: false
                          styles:
                            icon:
                              - width: 22%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:window-open-variant
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:window-closed-variant
                              styles:
                                icon:
                                  - color: green
                        - type: custom:button-card
                          entity: binary_sensor.mouvement_01_salle_de_jeux_occupancy
                          show_name: false
                          styles:
                            icon:
                              - width: 20%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:run-fast
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:exit-run
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                      columns: 1
                      square: false
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: sensor.detecteur_fumee_02_pallier_air_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
              - type: custom:button-card
                entity: binary_sensor.detecteur_fumee_02_pallier_alarm_status
                name: Fumée
                icon: mdi:smoke-detector-variant
                show_icon: true
                show_name: true
                show_state: true
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 5px
                    - margin-left: 10px
                  icon:
                    - place-self: start
                    - width: 70%
                  name:
                    - top: 25%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: grey
                    - top: 50%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  card:
                    - height: 100px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                  - value: 'off'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
          - type: custom:mushroom-title-card
            title: ''
            subtitle: Sous sol
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: light.lumiere_07_sous_sol
                name: Garage
                icon: mdi:car
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.mouvement_03_garage_air_temperature'].state )
                  + "°C"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 15px
                    - margin-left: 5px
                  icon:
                    - place-self: start
                    - width: 90%
                  name:
                    - top: 25%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: lightgrey
                    - top: 15%
                    - left: 50%
                    - font-size: 90%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.mouvement_03_garage_air_temperature'].state < 9)
                            return 'red';
                          if (states['sensor.mouvement_03_garage_air_temperature'].state > 25)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 40%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 120%
                    - position: absolute
                  card:
                    - height: 100px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    notification:
                      - background-color: |
                          [[[
                            if (states['sensor.all_lights_garage'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'rgba(128,128,128,0.0)';
                          ]]]
                      - color: |
                          [[[
                            if (states['sensor.all_lights_garage'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'var(--text_on)';
                          ]]]
                      - border-radius: 50%
                      - position: absolute
                      - left: 2%
                      - top: 1%
                      - height: 16%
                      - width: 15%
                      - font-size: 90%
                      - line-height: 137%
                      - font-weight: bold
                    lum:
                      - position: absolute
                      - top: '-01%'
                      - left: 55%
                      - width: calc(80% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    ic:
                      - position: absolute
                      - top: 37%
                      - left: 80%
                      - width: calc(55% + 1px)
                      - transform: translate(-35%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    volet:
                      - position: absolute
                      - top: 18%
                      - left: 71%
                      - width: calc(50% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 110%
                      - left: 40%
                      - width: calc(85% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                      label:
                        - color: |
                            [[[
                              if (states['sensor.mouvement_03_garage_air_temperature'].state < 9)
                                return 'dodgerblue';
                              if (states['sensor.mouvement_03_garage_air_temperature'].state > 25)
                                return 'red';
                             return 'darkgrey';
                            ]]]
                  - value: 'off'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                      name:
                        - color: grey
                      label:
                        - color: |
                            [[[
                              if (states['sensor.mouvement_03_garage_air_temperature'].state < 9)
                                return 'dodgerblue';
                              if (states['sensor.mouvement_03_garage_air_temperature'].state > 25)
                                return 'red';
                             return 'grey';
                            ]]]
                custom_fields:
                  notification: >
                    [[[ return
                    Math.floor(states['sensor.all_lights_garage'].state ) ]]]
                  lum:
                    card:
                      type: conditional
                      conditions:
                        - entity: light.garage
                          state: 'on'
                      card:
                        type: custom:my-slider
                        entity: light.garage
                        radius: 5px
                        height: 8px
                        mainSliderColor: var(--button-card-light-color-no-temperature)
                        thumbHorizontalPadding: 0px
                        thumbVerticalPadding: 0px
                        thumbWidth: 2px
                  ic:
                    card:
                      type: grid
                      cards:
                        - type: custom:button-card
                          entity: >-
                            binary_sensor.capteur_ouverture_05_descente_garage_contact
                          show_name: false
                          styles:
                            icon:
                              - width: 25%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:door-open
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:door-closed
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                        - type: custom:button-card
                          entity: >-
                            binary_sensor.mouvement_03_garage_motion_sensor_status
                          show_name: false
                          styles:
                            icon:
                              - width: 20%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:run-fast
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:exit-run
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                      columns: 1
                      square: false
                  volet:
                    card:
                      type: custom:button-card
                      entity: >-
                        binary_sensor.capteur_ouverture_05_descente_garage_contact
                      show_name: false
                      styles:
                        icon:
                          - width: 25%
                        card:
                          - background: transparent
                          - 'border-color:': transparent
                      state:
                        - value: 'on'
                          icon: mdi:garage-open
                          styles:
                            icon:
                              - color: firebrick
                        - value: 'off'
                          icon: mdi:garage
                          styles:
                            icon:
                              - color: green
                      tap_action:
                        action: toggle
                      hold_action:
                        action: fire-dom-event
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: sensor.mouvement_03_garage_air_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
              - type: custom:button-card
                entity: light.lumiere_07_sous_sol
                name: Cave à vin
                icon: mdi:bottle-wine
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.mouvement_04_cave_a_vin_air_temperature'].state
                  ) + "°C"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 15px
                    - margin-left: 5px
                  icon:
                    - place-self: start
                    - width: 90%
                  name:
                    - top: 19%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: lightgrey
                    - top: 15%
                    - left: 50%
                    - font-size: 90%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.mouvement_04_cave_a_vin_air_temperature'].state < 19)
                            return 'dodgerblue';
                          if (states['sensor.mouvement_04_cave_a_vin_air_temperature'].state > 24)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 37%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 120%
                    - position: absolute
                  card:
                    - height: 100px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    notification:
                      - background-color: |
                          [[[
                            if (states['sensor.all_lights_garage'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'rgba(128,128,128,0.0)';
                          ]]]
                      - color: |
                          [[[
                            if (states['sensor.all_lights_garage'].state == 0)
                              return 'rgba(0,191,205,0)';
                           return 'var(--text_on)';
                          ]]]
                      - border-radius: 50%
                      - position: absolute
                      - left: 2%
                      - top: 1%
                      - height: 16%
                      - width: 15%
                      - font-size: 90%
                      - line-height: 137%
                      - font-weight: bold
                    humidite:
                      - color: |
                          [[[
                            if (states['sensor.mouvement_04_cave_a_vin_air_temperature'].state < 21)
                              return 'dodgerblue';
                            if (states['sensor.mouvement_04_cave_a_vin_air_temperature'].state > 25)
                              return 'red';
                            return 'darkgrey';
                          ]]]
                      - top: 55%
                      - left: 36%
                      - font-weight: bold
                      - font-size: 120%
                      - position: absolute
                    lum:
                      - position: absolute
                      - top: '-01%'
                      - left: 55%
                      - width: calc(80% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    ic:
                      - position: absolute
                      - top: 28%
                      - left: 65%
                      - width: calc(60% + 1px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 120%
                      - left: 50%
                      - width: calc(100% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                      label:
                        - color: |
                            [[[
                              if (states['sensor.mouvement_04_cave_a_vin_air_temperature'].state < 10)
                                return 'dodgerblue';
                              if (states['sensor.mouvement_04_cave_a_vin_air_temperature'].state > 18)
                                return 'red';
                             return 'darkgrey';
                            ]]]
                  - value: 'off'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                      name:
                        - color: grey
                      label:
                        - color: |
                            [[[
                              if (states['sensor.mouvement_04_cave_a_vin_air_temperature'].state < 10)
                                return 'dodgerblue';
                              if (states['sensor.mouvement_04_cave_a_vin_air_temperature'].state > 18)
                                return 'red';
                             return 'grey';
                            ]]]
                custom_fields:
                  notification: >
                    [[[ return
                    Math.floor(states['sensor.all_lights_garage'].state ) ]]]
                  humidite: >
                    [[[ return
                    (states['sensor.mouvement_03_garage_humidity'].state) + "%";
                    ]]]
                  lum:
                    card:
                      type: conditional
                      conditions:
                        - entity: light.chloe
                          state: 'on'
                      card:
                        type: custom:my-slider
                        entity: light.chloe
                        radius: 5px
                        height: 8px
                        mainSliderColor: var(--button-card-light-color-no-temperature)
                        thumbHorizontalPadding: 0px
                        thumbVerticalPadding: 0px
                        thumbWidth: 2px
                  ic:
                    card:
                      type: grid
                      cards:
                        - type: custom:button-card
                          color_style: blank-card
                        - type: custom:button-card
                          color_style: blank-card
                        - type: custom:button-card
                          entity: >-
                            binary_sensor.mouvement_04_cave_a_vin_motion_sensor_status
                          show_name: false
                          styles:
                            icon:
                              - width: 60%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              styles:
                                icon:
                                  - color: transparent
                          tap_action:
                            action: more-info
                      columns: 3
                      square: false
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: sensor.mouvement_04_cave_a_vin_air_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
  - title: Jardin
    path: jardin
    icon: mdi:pine-tree
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-chips-card
                chips:
                  - type: back
                alignment: start
              - type: custom:mushroom-chips-card
                chips:
                  - type: action
                    tap_action:
                      action: navigate
                      navigation_path: piscine
                    icon: mdi:pool
                alignment: end
          - type: custom:meteofrance-weather-card
            entity: weather.sillingy
            number_of_forecasts: '5'
            details: false
            current: true
            one_hour_forecast: false
            forecast: true
            alert_forecast: true
            detailEntity: sensor.netatmo_maison_piece_de_vie_jardin_temperature
            rainChanceEntity: sensor.sillingy_daily_precipitation
            uvEntity: sensor.sillingy_uv
            freezeChanceEntity: sensor.sillingy_freeze_chance
            snowChanceEntity: sensor.sillingy_snow_chance
            alertEntity: sensor.74_weather_alert
            cloudCoverEntity: sensor.sillingy_cloud_cover
          - type: custom:button-card
            entity: sensor.netatmo_maison_piece_de_vie_pluviometre_rain
            template:
              - icon_info_bg
              - ouverture
            name: Pluie
            state:
              - label: Il ne pleut pas en ce moment
                id: vert_off
                value: '0'
              - label: Il pleut actuellement
                id: rouge_on
                operator: '>'
                value: '0'
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                style: |-
                  ha-card{
                    background-size: 100% 100%;
                  }
                entities:
                  - entity: sensor.netatmo_maison_piece_de_vie_pluviometre_rain_today
                    aggregate_func: last
                    state_adaptive_color: true
                name: Pluie quotidienne
                font_size: 85
                font_size_header: 14
                align_icon: left
                align_state: center
                align_header: left
                hours_to_show: 168
                hour24: true
                group_by: date
                unit: mm / jour
                icon: mdi:waves
                line_width: 1
                more_info: true
                lower_bound: 0
                upper_bound: 20
                show:
                  extrema: false
                  graph: bar
                color_thresholds:
                  - value: 4
                    color: '#90CAF9'
                  - value: 10
                    color: '#2196F3'
  - title: Sécurité
    path: securite
    icon: mdi:security
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-chips-card
                chips:
                  - type: back
              - type: custom:button-card
                color: '#D1DBAE'
                icon: mdi:tools
                styles:
                  card:
                    - height: 40px
                    - width: 50px
                    - padding: 0px 0px
                    - background-color: '#fbba7b'
                  icon:
                    - left: 10px
                    - width: 55%
                    - color: '#000000'
                tap_action:
                  action: navigate
                  navigation_path: maison-details
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: binary_sensor.capteur_ouverture_02_salon_door_state_2
                template:
                  - icon_info_bg
                  - ouverture_fenetre
                name: Porte fenêtre
              - type: custom:button-card
                entity: binary_sensor.capteur_ouverture_01_sam_door_state_2
                template:
                  - icon_info_bg
                  - ouverture_fenetre
                name: Salle à manger
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: binary_sensor.capteur_ouverture_05_descente_garage_contact
                template:
                  - icon_info_bg
                  - ouverture_fenetre
                name: Porte garage
              - type: custom:button-card
                entity: binary_sensor.detecteur_on_off_01_water_leak
                template:
                  - icon_info_bg
                  - ouverture
                name: Descente garage
                state:
                  - label: Présence
                    id: rouge_on
                    value: 'on'
                  - label: RAS
                    id: vert_off
                    value: 'off'
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: binary_sensor.capteur_ouverture_03_chloe_door_state_2
                template:
                  - icon_info_bg
                  - ouverture_fenetre
                name: Velux Chloé
              - type: custom:button-card
                entity: binary_sensor.capteur_ouverture_04_maxence_door_state_2
                template:
                  - icon_info_bg
                  - ouverture_fenetre
                name: Velux Maxence
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: binary_sensor.capteur_ouverture_02_salon_door_state
                template:
                  - icon_info_bg
                  - ouverture_fenetre
                name: Fenêtre garage
              - type: custom:button-card
                entity: cover.dexxosmartio800
                template:
                  - icon_info_bg
                  - ouverture
                name: Garage
                state:
                  - label: Mouvement
                    id: rouge_on
                    value: open
                  - label: RAS
                    id: vert_off
                    value: closed
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: binary_sensor.mouvement_07_salon_occupancy
                template:
                  - icon_info_bg
                  - ouverture
                name: Salon
                state:
                  - label: Mouvement
                    id: rouge_on
                    value: 'on'
                  - label: RAS
                    id: vert_off
                    value: 'off'
              - type: custom:button-card
                entity: binary_sensor.mouvement_06_salle_a_manger_occupancy
                template:
                  - icon_info_bg
                  - ouverture
                name: Salle à manger
                state:
                  - label: Mouvement
                    id: rouge_on
                    value: 'on'
                  - label: RAS
                    id: vert_off
                    value: 'off'
          - type: horizontal-stack
            cards:
              - entity: binary_sensor.detecteur_fumee_01_rdc_alarm_status
                type: custom:button-card
                template:
                  - icon_info_bg
                  - ouverture
                name: Couloir RdC
                state:
                  - icon: mdi:fire
                    label: Incendie
                    id: rouge_on
                    value: 'on'
                  - label: RAS
                    id: vert_off
                    value: 'off'
              - entity: binary_sensor.detecteur_fumee_02_pallier_alarm_status
                type: custom:button-card
                template:
                  - icon_info_bg
                  - ouverture
                name: Palier 1ier étage
                state:
                  - icon: mdi:fire
                    label: Incendie
                    id: rouge_on
                    value: 'on'
                  - icon: mdi:shield-check
                    label: RAS
                    id: vert_off
                    value: 'off'
          - type: custom:button-card
            entity: switch.eufy_surveillance
            template:
              - icon_info_bg
              - ouverture
            name: Caméras de surveillance extérieures
            state:
              - label: Caméras activées
                id: vert_off
                value: 'on'
              - label: Caméras désactivées
                id: rouge_on
                value: 'off'
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: switch.eufy_surveillance
                name: A la maison
                icon: mdi:home
                styles:
                  card:
                    - text-shadow: 0px 0px 0px white
                    - background-color: '#FFFFFF'
                    - padding-left: 10px
                    - border-radius: 20px
                    - padding: 10%
                    - font-size: 15px
                state:
                  - value: 'on'
                    styles:
                      card:
                        - border: solid 1px '#f83e43'
                      icon:
                        - color: green
                    id: on-icon
                  - value: 'off'
                    styles:
                      card:
                        - border: solid 1px '#434343'
                        - box-shadow: none
                      icon:
                        - color: red
                    id: off-icon
                tap_action:
                  action: call-service
                  service: rest_command.eufy_guard_mode_disarmed
              - type: custom:button-card
                entity: switch.eufy_surveillance
                name: En vadrouille
                icon: mdi:tree
                styles:
                  card:
                    - text-shadow: 0px 0px 0px white
                    - background-color: '#FFFFFF'
                    - padding-left: 10px
                    - border-radius: 20px
                    - padding: 10%
                    - font-size: 15px
                state:
                  - value: 'on'
                    styles:
                      card:
                        - border: solid 3px '#434343'
                      icon:
                        - color: green
                    id: on-icon
                  - value: 'off'
                    styles:
                      card:
                        - border: solid 1px '#f83e43'
                        - box-shadow: none
                      icon:
                        - color: red
                    id: off-icon
                tap_action:
                  action: call-service
                  service: rest_command.eufy_guard_mode_home
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: sensor.camera_jardin_motion_detection
                template:
                  - icon_info_bg
                  - ouverture
                name: Caméra jardin
                state:
                  - icon: mdi:run
                    label: Présence détectée
                    id: rouge_on
                    value: 'true'
                  - icon: mdi:run
                    label: RAS
                    id: vert_off
                    value: 'false'
              - type: custom:button-card
                entity: sensor.camera_arriere_maison_motion_detection
                template:
                  - icon_info_bg
                  - ouverture
                name: Caméra arrière
                state:
                  - icon: mdi:run
                    label: Présence détectée
                    id: rouge_on
                    value: 'true'
                  - icon: mdi:run
                    label: RAS
                    id: vert_off
                    value: 'false'
          - type: horizontal-stack
            cards:
              - square: false
                columns: 1
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - entity: binary_sensor.jardin_streaming_sensor
                        state: 'False'
                    card:
                      show_state: false
                      show_name: false
                      camera_view: auto
                      type: picture-entity
                      entity: camera.jardin
                      tap_action:
                        action: call-service
                        service: camera.turn_on
                        target:
                          entity_id: camera.jardin_2
                  - type: conditional
                    conditions:
                      - entity: binary_sensor.jardin_streaming_sensor
                        state: 'True'
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:webrtc-camera
                          entity: camera.jardin_2
                        - show_name: true
                          show_icon: false
                          type: button
                          name: Stop Streaming
                          show_state: false
                          tap_action:
                            action: call-service
                            service: camera.turn_off
                            target:
                              entity_id: camera.jardin_2
              - type: grid
                square: false
                cards:
                  - type: conditional
                    conditions:
                      - entity: binary_sensor.arriere_cour_streaming_sensor
                        state: 'False'
                    card:
                      show_state: false
                      show_name: false
                      camera_view: auto
                      type: picture-entity
                      entity: camera.arriere_cour
                      tap_action:
                        action: call-service
                        service: camera.turn_on
                        target:
                          entity_id: camera.arriere_cour
                  - type: conditional
                    conditions:
                      - entity: binary_sensor.arriere_cour_streaming_sensor
                        state: 'True'
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:webrtc-camera
                          entity: camera.arriere_cour
                        - type: button
                          name: Stop Streaming
                          show_state: false
                          show_icon: false
                          tap_action:
                            action: call-service
                            service: camera.turn_off
                            target:
                              entity_id: camera.arriere_cour
                columns: 1
          - type: horizontal-stack
            cards:
              - type: picture-entity
                entity: camera.netatmo_ma_camera_netatmo_salon
              - type: picture-entity
                entity: camera.c1c
          - show_state: true
            show_name: true
            camera_view: auto
            type: picture-entity
            entity: camera.tapo_c320ws_sd
            image: https://demo.home-assistant.io/stub_config/bedroom.png
            camera_image: camera.tapo_c320ws_hd
  - title: Systeme
    path: systeme
    icon: mdi:server-minus
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-chips-card
                chips:
                  - type: back
          - type: horizontal-stack
            cards:
              - entity: binary_sensor.serveur_domestique
                template: scene
                type: custom:button-card
                name: NUC
                state:
                  - id: vert_off
                    value: 'on'
                  - id: rouge_on
                    value: 'off'
              - entity: binary_sensor.raspberrypi_baie_technique
                template: scene
                type: custom:button-card
                name: rpi baie
                state:
                  - id: vert_off
                    value: 'on'
                  - id: rouge_on
                    value: 'off'
              - entity: binary_sensor.raspberrypi_salon
                template: scene
                type: custom:button-card
                name: rpi salon
                state:
                  - id: rouge_on
                    value: 'off'
                  - id: vert_off
                    value: 'on'
              - entity: binary_sensor.raspberrypi_octoprint
                template: scene
                type: custom:button-card
                name: octoprint
                state:
                  - id: rouge_on
                    value: 'off'
                  - id: vert_off
                    value: 'on'
              - entity: binary_sensor.vps_ovh
                template: scene
                type: custom:button-card
                name: VPS
                state:
                  - id: rouge_on
                    value: 'off'
                  - id: vert_off
                    value: 'on'
              - entity: sensor.disponibilite
                template: scene
                type: custom:button-card
                name: rpi paradis
                state:
                  - id: vert_off
                    value: online
                  - id: rouge_on
                    value: offline
          - type: picture-elements
            elements:
              - type: state-icon
                entity: sensor.home_assistant_v2_db_size
                icon: mdi:database-check
                style:
                  top: 30%
                  left: 85%
              - type: state-label
                entity: sensor.home_assistant_v2_db_size
                prefix: 'DB: '
                style:
                  top: 40%
                  left: 85%
              - type: state-icon
                icon: mdi:home-assistant
                entity: sensor.docker_hub
                style:
                  top: 30%
                  left: 20%
              - type: state-label
                entity: sensor.docker_hub
                prefix: 'Dispo: '
                style:
                  top: 40%
                  left: 20%
              - type: state-label
                entity: sensor.current_version
                prefix: 'Installée: '
                style:
                  top: 48%
                  left: 20%
              - type: state-icon
                icon: hacs:hacs
                entity: sensor.hacs
                style:
                  top: 30%
                  left: 53%
              - type: state-label
                entity: sensor.hacs
                style:
                  top: 40%
                  left: 53%
              - type: state-badge
                entity: sensor.all_door_available
                style:
                  top: 75%
                  left: 20%
              - type: state-badge
                entity: sensor.all_lights_available
                style:
                  top: 75%
                  left: 40%
              - type: state-badge
                entity: sensor.all_temp_available
                style:
                  top: 75%
                  left: 60%
              - type: state-badge
                entity: sensor.all_move_available
                style:
                  top: 75%
                  left: 80%
            image: /local/images/home_assistant.png
          - type: picture-elements
            image: /local/images/docker2.png
            elements:
              - type: state-label
                entity: sensor.docker_containers_running
                prefix: 'Nombre de conteneurs: '
                style:
                  top: 25%
                  left: 25%
                  color: black
              - type: state-icon
                entity: sensor.docker_containers_running
                style:
                  top: 20%
                  left: 25%
              - type: state-label
                entity: sensor.docker_version
                prefix: 'Version installée: '
                style:
                  top: 12%
                  left: 25%
                  color: black
              - type: state-icon
                entity: sensor.docker_version
                style:
                  top: 07%
                  left: 25%
              - type: state-label
                entity: sensor.docker_homeassistant_state
                style:
                  top: 47%
                  left: 15%
                  color: black
              - type: image
                entity: sensor.docker_homeassistant_state
                image: /local/lovelace/icons/ha.png
                style:
                  top: 40%
                  left: 15%
                  width: 6%
              - type: state-label
                entity: sensor.docker_portainer_state
                style:
                  top: 87%
                  left: 15%
                  color: black
              - type: image
                entity: sensor.docker_portainer_state
                image: /local/lovelace/icons/portainer.png
                style:
                  top: 80%
                  left: 15%
                  width: 6%
              - type: state-label
                entity: sensor.docker_zigbee2mqtt_state
                style:
                  top: 47%
                  left: 30%
                  color: black
              - type: image
                entity: sensor.docker_zigbee2mqtt_state
                image: /local/lovelace/icons/zigbee.png
                style:
                  top: 40%
                  left: 30%
                  width: 6%
              - type: state-label
                entity: sensor.docker_mqtt_state
                style:
                  top: 47%
                  left: 45%
                  color: black
              - type: image
                entity: sensor.docker_mqtt_state
                image: /local/lovelace/icons/mosquitto.png
                style:
                  top: 40%
                  left: 45%
                  width: 6%
              - type: state-label
                entity: sensor.docker_zwavejs2mqtt_state
                style:
                  top: 47%
                  left: 60%
                  color: black
              - type: image
                entity: sensor.docker_zwavejs2mqtt_state
                image: /local/lovelace/icons/zwave2mqtt.png
                style:
                  top: 40%
                  left: 60%
                  width: 6%
              - type: state-label
                entity: sensor.docker_node_red_state
                style:
                  top: 47%
                  left: 75%
                  color: black
              - type: image
                entity: sensor.docker_node_red_state
                image: /local/lovelace/icons/nodered.png
                style:
                  top: 40%
                  left: 75%
                  width: 6%
              - type: state-label
                entity: sensor.docker_adguardhome_state
                style:
                  top: 87%
                  left: 45%
                  color: black
              - type: image
                entity: sensor.docker_adguardhome_state
                image: /local/lovelace/icons/adguard.png
                style:
                  top: 80%
                  left: 45%
                  width: 6%
              - type: state-label
                entity: sensor.docker_traefik_state
                style:
                  top: 87%
                  left: 30%
                  color: black
              - type: image
                entity: sensor.docker_traefik_state
                image: /local/lovelace/icons/traefik.png
                style:
                  top: 80%
                  left: 30%
                  width: 6%
              - type: state-label
                entity: sensor.docker_influxdb_state
                style:
                  top: 67%
                  left: 15%
                  color: black
              - type: image
                entity: sensor.docker_influxdb_state
                image: /local/lovelace/icons/influxdb.png
                style:
                  top: 60%
                  left: 15%
                  width: 6%
              - type: state-label
                entity: sensor.docker_grafana_state
                style:
                  top: 67%
                  left: 30%
                  color: black
              - type: image
                entity: sensor.docker_grafana_state
                image: /local/lovelace/icons/grafana.png
                style:
                  top: 60%
                  left: 30%
                  width: 6%
              - type: state-label
                entity: sensor.docker_bitwarden_state
                style:
                  top: 87%
                  left: 75%
                  color: black
              - type: image
                entity: sensor.docker_bitwarden_state
                image: /local/lovelace/icons/bitwarden.png
                style:
                  top: 80%
                  left: 75%
                  width: 6%
              - type: state-label
                entity: sensor.docker_iobroker_state
                style:
                  top: 67%
                  left: 45%
                  color: black
              - type: image
                entity: sensor.docker_iobroker_state
                image: /local/lovelace/icons/iobroker.png
                style:
                  top: 60%
                  left: 45%
                  width: 6%
              - type: state-label
                entity: sensor.docker_heimdall_state
                style:
                  top: 67%
                  left: 75%
                  color: black
              - type: image
                entity: sensor.docker_heimdall_state
                image: /local/lovelace/icons/heimdall.png
                style:
                  top: 60%
                  left: 75%
                  width: 6%
            style: |
              ha-card {
              background-color: rgba(50,50,50,0.5); /*DARKGRAY*/
              border: 1px solid rgba(245,245,245,0.2); /*GRAY*/
              border-radius: 10px;
              }
          - entity: sensor.temp_humidite_04_baie_technique_humidity
            state_header: Humidité
            styles:
              width: 80px
              text-align: center
            name: Baie Technique
            icon: mdi:server
            type: custom:multiple-entity-row
            entities:
              - entity: sensor.consommation_baie_quotidien
                name: Consommation
                styles:
                  width: 80px
                  text-align: center
              - entity: sensor.temp_humidite_04_baie_technique_temperature
                name: Température
                styles:
                  width: 80px
                  text-align: center
          - type: custom:mushroom-title-card
            subtitle: NUC 8i3BEK
            alignment: center
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                      box-shadow: none;    
                    }
                entities:
                  - sensor.processor_use_percent
                name: CPU
                height: 60
                font_size: 80
                line_color: '#3498db'
                line_width: 8
                hours_to_show: 24
                graph: line
                detail: 2
                show:
                  extrema: true
              - type: custom:mini-graph-card
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                      box-shadow: none;    
                    }
                entities:
                  - sensor.memory_use_percent
                name: RAM
                height: 60
                font_size: 80
                line_color: '#e74c3c'
                line_width: 8
                hours_to_show: 24
                graph: line
                detail: 2
                show:
                  extrema: true
              - type: custom:mini-graph-card
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                      box-shadow: none;    
                    }
                entities:
                  - sensor.disk_use_percent
                name: SSD
                height: 80
                font_size: 80
                line_color: '#3498db'
                line_width: 8
                hours_to_show: 24
                graph: line
                detail: 2
                show:
                  extrema: true
          - type: custom:mushroom-title-card
            subtitle: NAS Synology DS418j
            alignment: center
          - type: custom:mushroom-update-card
            entity: update.ds418j_dsm_update
            use_entity_picture: false
            show_buttons_control: false
            collapsible_controls: false
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                      box-shadow: none;    
                    }
                entities:
                  - sensor.ds418j_cpu_utilization_total
                name: CPU
                height: 80
                font_size: 80
                line_color: '#3498db'
                line_width: 8
                hours_to_show: 24
                graph: line
                detail: 2
                show:
                  extrema: true
              - type: custom:mini-graph-card
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                      box-shadow: none;    
                    }
                entities:
                  - sensor.ds418j_memory_usage_real
                name: RAM
                height: 80
                font_size: 80
                line_color: '#e74c3c'
                line_width: 8
                hours_to_show: 24
                graph: line
                detail: 2
                show:
                  extrema: true
              - type: custom:mini-graph-card
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                      box-shadow: none;    
                    }
                entities:
                  - sensor.ds418j_volume_used
                name: HDD
                height: 80
                font_size: 80
                line_color: '#3498db'
                line_width: 8
                hours_to_show: 24
                graph: line
                detail: 2
                show:
                  extrema: true
          - type: custom:mushroom-title-card
            subtitle: Raspberry Pi
            alignment: center
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: sensor.octopi_cpu_temperature
                name: OCTOPRINT
                icon: mdi:raspberry-pi
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                styles:
                  card:
                    - height: 175px
                    - text-shadow: 0px 0px 0px white
                    - background-color: '#FFFFFF'
                    - padding-left: 10px
                    - border-radius: 20px
                    - padding: 5%
                    - font-size: 15px
                    - transition: none
                  icon:
                    - color: black
                    - top: 1%
                    - left: 10%
                    - width: 75%
                    - animation: |
                        [[[
                          if (entity.state > "65" )
                            return "blink 1s ease infinite";
                          return "";
                        ]]]
                  img_cell:
                    - border-radius: 50%
                    - place-self: start
                    - width: 37px
                    - height: 37px
                    - margin-left: 2%
                    - margin-top: 0%
                    - background-color: |
                        [[[
                          if (entity.state < 65) return '#64d581';
                          if (entity.state >= 65 && entity.state < 85) return '#f7c754';
                          else return 'red';
                        ]]]
                  name:
                    - color: black
                    - top: 33%
                    - left: 6%
                    - font-size: 100%
                    - font-weight: bold
                    - position: absolute
                  custom_fields:
                    circle:
                      - top: 17%
                      - left: 66.2%
                      - width: 27%
                      - position: absolute
                      - letter-spacing: 0.03vw
                      - stroke: |
                          [[[
                            if (entity.state <= 65)
                              return 'green';
                            if (entity.state > 65)
                              return 'tomato';
                            return '';
                          ]]]
                    info1:
                      - font-size: 12px
                      - color: black
                      - top: 57%
                      - left: 3.2%
                      - position: absolute
                      - width: null
                      - '--text-color-sensor': >-
                          [[[ if (states["sensor.octopi_cpu_usage"].state > 50)
                          return "red";  else return "black"; ]]]
                    info2:
                      - font-size: 12px
                      - color: black
                      - top: 69%
                      - left: 3.2%
                      - width: null
                      - position: absolute
                      - '--text-color-sensor': >-
                          [[[ if (states["sensor.octopi_memory_usage"].state >
                          60) return  "red";  else return "black"; ]]]
                    info3:
                      - font-size: 12px
                      - color: black
                      - top: 81%
                      - left: 3.2%
                      - width: null
                      - position: absolute
                      - '--text-color-sensor': >-
                          [[[ if (states["sensor.octopi_disk_usage"].state > 70)
                          return "red";  else return "black"; ]]]
                    info4:
                      - font-size: 12px
                      - color: black
                      - top: 69%
                      - left: 50.2%
                      - width: null
                      - position: absolute
                      - '--text-color-sensor': >-
                          [[[ if (states["sensor.octopi_uptime"].state > 7) 
                          return  "red";   if
                          (states["sensor.octopi_uptime"].state ==
                          "unavailable")  return  "transparent"; else  return
                          "black";  ]]]
                    info5:
                      - font-size: 12px
                      - color: black
                      - top: 81%
                      - left: 50.2%
                      - width: null
                      - position: absolute
                      - '--text-color-sensor': >-
                          [[[ if (states["sensor.disponibilite"].state ==
                          "online")  return  "green";   if
                          (states["sensor.disponibilite"].state ==
                          "unavailable")  return  "transparent"; else  return
                          "red";  ]]]
                custom_fields:
                  circle: |
                    [[[ if (entity.state != '0' ) {
                       ;
                       const radius = 20.5; const circumference = radius * 2 * Math.PI; 
                       return `<svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="${radius}" stroke="grey" stroke-width="1.5" fill="none" style="
                       transform: rotate(-90deg); transform-origin: 50% 50%; stroke-dasharray: ${circumference}; stroke-dashoffset: ${circumference - entity.state / 90 * circumference};" />
                       <text x="50%" y="54%" fill="lightgrey" font-size="15" text-anchor="middle" alignment-baseline="middle">${entity.state}°<tspan font-size="10"></tspan></text></svg>`; } ]]]
                  info1: |
                    [[[
                      return `<ha-icon
                        icon="mdi:server"
                        style="width: 12px; height: 12px; color: grey;">
                        </ha-icon><span> CPU : <span style="color: var(--text-color-sensor);">${states['sensor.octopi_cpu_usage'].state}%</span></span>`
                    ]]]
                  info2: |
                    [[[
                      return `<ha-icon
                        icon="mdi:memory"
                        style="width: 12px; height: 12px; color: grey;">
                        </ha-icon><span> RAM : <span style="color: var(--text-color-sensor);">${states['sensor.octopi_memory_usage'].state}%</span></span>`
                    ]]]
                  info3: |
                    [[[
                      return `<ha-icon
                        icon="mdi:harddisk"
                        style="width: 12px; height: 12px; color: grey;">
                        </ha-icon><span> SSD : <span style="color: var(--text-color-sensor);">${states['sensor.octopi_disk_usage'].state}%</span></span>`
                    ]]]
                  info4: |
                    [[[
                      return `<ha-icon
                        icon="mdi:clock"
                        style="width: 12px; height: 12px; color: grey;">
                        </ha-icon><span> Uptime: <span style="color: var(--text-color-sensor);">${states['sensor.octopi_uptime'].state} jour(s)</span></span>`
                    ]]]
                  info5: |
                    [[[
                      return `<ha-icon
                        icon="mdi:clock"
                        style="width: 12px; height: 12px; color: grey;">
                        </ha-icon><span> MQTT: <span style="color: var(--text-color-sensor);">${states['sensor.disponibilite'].state}</span></span>`
                    ]]]
              - type: custom:button-card
                entity: sensor.raspberrypi_cpu_temperature
                name: RPI 4 +
                icon: mdi:raspberry-pi
                template:
                  - bouton_systeme
                styles:
                  img_cell:
                    - background-color: |
                        [[[
                          if (entity.state < 65) return 'var(--pastille_off)';
                          if (entity.state >= 65 && entity.state < 70) return 'tomato';
                          else return 'red';
                        ]]]
                  icon:
                    - animation: |
                        [[[
                          if (entity.state > "65" )
                            return "blink 1s ease infinite";
                         return "";
                        ]]]
                  custom_fields:
                    circle:
                      - stroke: |
                          [[[
                            if (entity.state <= 59)
                              return 'grey';
                            if (entity.state > 59)
                              return 'tomato';
                            return '';
                          ]]]
                    info1:
                      - '--text-color-sensor': >-
                          [[[ if (states["sensor.raspberrypi_cpu_usage"].state >
                          50) return "red";  else return "black"; ]]]
                    info2:
                      - '--text-color-sensor': >-
                          [[[ if
                          (states["sensor.raspberrypi_memory_usage"].state > 60)
                          return  "red";  else return "black"; ]]]
                    info3:
                      - '--text-color-sensor': >-
                          [[[ if (states["sensor.raspberrypi_disk_usage"].state
                          > 70) return "red";  else return "black"; ]]]
                    info4:
                      - '--text-color-sensor': >-
                          [[[ if (states["sensor.raspberrypi_uptime"].state >
                          7)  return  "red";   if
                          (states["sensor.raspberrypi_uptime"].state ==
                          "unavailable")  return  "transparent"; else  return
                          "black";  ]]]
                    info5:
                      - '--text-color-sensor': >-
                          [[[ if (states["sensor.disponibilite"].state ==
                          "online")  return  "green";   if
                          (states["sensor.disponibilite"].state ==
                          "unavailable")  return  "transparent"; else  return
                          "red";  ]]]
                custom_fields:
                  circle: |
                    [[[ if (entity.state != '0' ) {
                       ;
                       const radius = 20.5; const circumference = radius * 2 * Math.PI; 
                       return `<svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="${radius}" stroke="grey" stroke-width="1.5" fill="none" style="
                       transform: rotate(-90deg); transform-origin: 50% 50%; stroke-dasharray: ${circumference}; stroke-dashoffset: ${circumference - entity.state / 90 * circumference};" />
                       <text x="50%" y="54%" fill="lightgrey" font-size="15" text-anchor="middle" alignment-baseline="middle">${entity.state}°<tspan font-size="10"></tspan></text></svg>`; } ]]]
                  info1: |
                    [[[
                      return `<ha-icon
                        icon="mdi:server"
                        style="width: 12px; height: 12px; color: grey;">
                        </ha-icon><span> CPU : <span style="color: var(--text-color-sensor);">${states['sensor.raspberrypi_cpu_usage'].state}%</span></span>`
                    ]]]
                  info2: |
                    [[[
                      return `<ha-icon
                        icon="mdi:memory"
                        style="width: 12px; height: 12px; color: grey;">
                        </ha-icon><span> RAM : <span style="color: var(--text-color-sensor);">${states['sensor.raspberrypi_memory_usage'].state}%</span></span>`
                    ]]]
                  info3: |
                    [[[
                      return `<ha-icon
                        icon="mdi:harddisk"
                        style="width: 12px; height: 12px; color: grey;">
                        </ha-icon><span> SSD : <span style="color: var(--text-color-sensor);">${states['sensor.raspberrypi_disk_usage'].state}%</span></span>`
                    ]]]
                  info4: |
                    [[[
                      return `<ha-icon
                        icon="mdi:clock"
                        style="width: 12px; height: 12px; color: grey;">
                        </ha-icon><span> Uptime: <span style="color: var(--text-color-sensor);">${states['sensor.raspberrypi_uptime'].state} jour(s)</span></span>`
                    ]]]
                  info5: |
                    [[[
                      return `<ha-icon
                        icon="mdi:clock"
                        style="width: 12px; height: 12px; color: grey;">
                        </ha-icon><span> MQTT: <span style="color: var(--text-color-sensor);">${states['sensor.disponibilite'].state}</span></span>`
                    ]]]
          - type: custom:mushroom-title-card
            subtitle: Onduleur Eaton
            alignment: center
          - type: glance
            entities:
              - entity: sensor.ups_load
              - entity: sensor.ups_battery_runtime_friendly
                name: Temps disponible
                icon: mdi:clock
              - entity: sensor.ups_battery_charge
                name: Batterie
          - type: custom:mushroom-title-card
            subtitle: RESEAU LOCAL
            alignment: center
          - type: entities
            entities:
              - type: custom:multiple-entity-row
                entity: sensor.unifi_switch
                icon: mdi:switch
                name: Unifi Dream Machine Pro
                show_entity_picture: true
                show_state: false
                secondary_info:
                  attribute: Uptime
                entities:
                  - entity: sensor.unifi_switch_cpu
                    name: CPU
                  - entity: sensor.unifi_switch_ram
                    name: RAM
                  - icon: mdi:restart
                    tap_action:
                      action: call-service
                      confirmation: true
                      service: shell_command.reboot_unifi_switch
          - type: entities
            entities:
              - type: custom:multiple-entity-row
                entity: sensor.unifi_ap
                icon: mdi:wifi
                name: Unifi AP-AC-LR
                show_entity_picture: true
                show_state: false
                secondary_info:
                  attribute: Uptime
                entities:
                  - entity: sensor.unifi_ap_cpu
                    name: CPU
                  - entity: sensor.unifi_ap_ram
                    name: RAM
                  - icon: mdi:restart
                    tap_action:
                      action: call-service
                      confirmation: true
                      service: shell_command.reboot_unifi_ap
              - type: custom:multiple-entity-row
                entity: sensor.unifi_ap
                icon: mdi:devices
                name: ' '
                show_state: false
                secondary_info:
                  entity: sensor.unifi_ap
                  name: ' '
                entities:
                  - entity: sensor.unifi_ap_wifi_devices
                    name: 2.4GhZ
                    unit: ' '
                  - entity: sensor.unifi_ap5ghz_wifi_devices
                    name: 5GhZ
                    unit: ' '
                  - entity: sensor.unifi_ap_guests
                    name: Guests
                    unit: ' '
              - type: custom:multiple-entity-row
                entity: sensor.unifi_ap_score
                name: ' '
                icon: mdi:percent-outline
                show_state: false
                secondary_info:
                  entity: sensor.unifi_ap_score
                  name: ' '
                  unit: '% satisfaction'
                entities:
                  - entity: sensor.unifi_ap2_score
                    name: 2gHz
                    unit: '%'
                    tap_action:
                      action: none
                  - entity: sensor.unifi_ap5_score
                    name: 5gHz
                    unit: '%'
                    tap_action:
                      action: none
          - type: custom:banner-card
            heading: null
            background: url("/local/lovelace/background/adguard.png")
            entities:
              - entity: sensor.adguard_dns_queries
                name: Requêtes
              - entity: sensor.adguard_dns_queries_blocked_ratio
                name: Requêtes bloquées
              - entity: switch.adguard_protection
                name: Protection
  - theme: Backend-selected
    title: Paradis
    path: paradis
    icon: mdi:sunglasses
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: sensor.temperature_exterieur
                name: Météo
                icon: mdi:sun-thermometer
                show_icon: true
                show_name: true
                show_state: true
                show_label: true
                label: >
                  [[[ return (states['sensor.humidite_exterieur'].state ) + "%";
                  ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 10px
                    - margin-left: 15px
                  icon:
                    - place-self: start
                    - width: 100%
                  name:
                    - top: 19%
                    - left: 24%
                    - font-size: 140%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: |
                        [[[
                          if (states['sensor.temperature_exterieur'].state < 16)
                            return 'dodgerblue';
                          if (states['sensor.temperature_exterieur'].state > 25)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 45%
                    - left: 11%
                    - font-weight: bold
                    - font-size: 250%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.humidite_exterieur'].state < 40)
                            return 'dodgerblue';
                          if (states['sensor.humidite_exterieur'].state > 70)
                            return 'dodgerblue';
                          return 'darkgrey';
                        ]]]
                    - top: 75%
                    - left: 25%
                    - font-weight: bold
                    - font-size: 130%
                    - position: absolute
                  card:
                    - height: 150px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    ic:
                      - position: absolute
                      - top: 40%
                      - left: 80%
                      - width: calc(60% + 1px)
                      - transform: translate(-40%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 90%
                      - left: 65%
                      - width: calc(45% + 15px)
                      - transform: translate(-45%, calc(-100% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                      label:
                        - color: |
                            [[[
                              if (states['sensor.mb_temp_humidite_02_chambre_parents_temperature'].state < 16)
                                return 'dodgerblue';
                              if (states['sensor.mb_temp_humidite_02_chambre_parents_temperature'].state > 25)
                                return 'red';
                             return 'darkgrey';
                            ]]]
                  - operator: '>'
                    value: '0'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                      name:
                        - color: grey
                custom_fields:
                  graph:
                    card:
                      type: custom:meteofrance-weather-card
                      number_of_forecasts: '3'
                      current: false
                      one_hour_forecast: false
                      forecast: true
                      details: false
                      alert_forecast: false
                      entity: weather.moissac_bellevue
                      name: Mon petit paradis
                      detailEntity: sensor.temperature_exterieur
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: sensor.mb_temp_humidite_01_piece_de_vie_temperature
                name: Entrée
                icon: mdi:door-closed
                show_icon: true
                show_name: true
                show_state: true
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.mb_temp_humidite_02_chambre_parents_humidity'].state
                  ) + "%"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 10px
                    - margin-left: 15px
                  icon:
                    - place-self: start
                    - width: 90%
                  name:
                    - top: 19%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: |
                        [[[
                          if (states['sensor.mb_temp_humidite_02_chambre_parents_temperature'].state < 16)
                            return 'dodgerblue';
                          if (states['sensor.mb_temp_humidite_02_chambre_parents_temperature'].state > 26)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 37%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 150%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.mb_temp_humidite_02_chambre_parents_humidity'].state < 40)
                            return 'dodgerblue';
                          if (states['sensor.mb_temp_humidite_02_chambre_parents_humidity'].state > 70)
                            return 'dodgerblue';
                          return 'darkgrey';
                        ]]]
                    - top: 57%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 110%
                    - position: absolute
                  card:
                    - height: 125px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    ic:
                      - position: absolute
                      - top: 40%
                      - left: 80%
                      - width: calc(60% + 1px)
                      - transform: translate(-40%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 110%
                      - left: 40%
                      - width: calc(75% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                      label:
                        - color: |
                            [[[
                              if (states['sensor.mb_temp_humidite_02_chambre_parents_temperature'].state < 16)
                                return 'dodgerblue';
                              if (states['sensor.mb_temp_humidite_02_chambre_parents_temperature'].state > 26)
                                return 'red';
                             return 'darkgrey';
                            ]]]
                  - operator: '>'
                    value: '0'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                      name:
                        - color: grey
                custom_fields:
                  ic:
                    card:
                      type: grid
                      cards:
                        - type: custom:button-card
                          entity: >-
                            binary_sensor.mb_capteur_ouverture_01_porte_entree_contact
                          show_name: false
                          styles:
                            icon:
                              - width: 22%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:door-open
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:door-closed-lock
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                        - type: custom:button-card
                          entity: binary_sensor.mb_mouvement_02_pallier_occupancy
                          show_name: false
                          styles:
                            icon:
                              - width: 20%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:run-fast
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:exit-run
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                      columns: 1
                      square: false
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: >-
                            sensor.mb_temp_humidite_02_chambre_parents_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
              - type: custom:button-card
                entity: sensor.mb_temp_humidite_01_piece_de_vie_temperature
                name: Piéce de vie
                icon: mdi:sofa
                show_icon: true
                show_name: true
                show_state: true
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.mb_temp_humidite_02_chambre_parents_humidity'].state
                  ) + "%"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 15px
                    - margin-left: 5px
                  icon:
                    - place-self: start
                    - width: 90%
                  name:
                    - top: 19%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: |
                        [[[
                          if (states['sensor.mb_temp_humidite_02_chambre_parents_temperature'].state < 16)
                            return 'dodgerblue';
                          if (states['sensor.mb_temp_humidite_02_chambre_parents_temperature'].state > 25)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 37%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 150%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.mb_temp_humidite_02_chambre_parents_humidity'].state < 40)
                            return 'dodgerblue';
                          if (states['sensor.mb_temp_humidite_02_chambre_parents_humidity'].state > 70)
                            return 'dodgerblue';
                          return 'darkgrey';
                        ]]]
                    - top: 57%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 110%
                    - position: absolute
                  card:
                    - height: 125px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    ic:
                      - position: absolute
                      - top: 40%
                      - left: 80%
                      - width: calc(60% + 1px)
                      - transform: translate(-40%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 110%
                      - left: 40%
                      - width: calc(75% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                      label:
                        - color: |
                            [[[
                              if (states['sensor.mb_temp_humidite_02_chambre_parents_temperature'].state < 16)
                                return 'dodgerblue';
                              if (states['sensor.mb_temp_humidite_02_chambre_parents_temperature'].state > 25)
                                return 'red';
                             return 'darkgrey';
                            ]]]
                  - operator: '>'
                    value: '0'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                      name:
                        - color: grey
                custom_fields:
                  ic:
                    card:
                      type: grid
                      cards:
                        - type: custom:button-card
                          entity: >-
                            binary_sensor.mb_capteur_ouverture_02_porte_fenetre_contact
                          show_name: false
                          styles:
                            icon:
                              - width: 22%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:window-open-variant
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:window-closed-variant
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                        - type: custom:button-card
                          entity: binary_sensor.mb_mouvement_01_piece_de_vie_occupancy
                          show_name: false
                          styles:
                            icon:
                              - width: 20%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:run-fast
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:exit-run
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                      columns: 1
                      square: false
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: >-
                            sensor.mb_temp_humidite_02_chambre_parents_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: sensor.mb_temp_humidite_02_chambre_parents_temperature
                name: Parents
                icon: mdi:bed
                show_icon: true
                show_name: true
                show_state: true
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.mb_temp_humidite_02_chambre_parents_humidity'].state
                  ) + "%"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 10px
                    - margin-left: 15px
                  icon:
                    - place-self: start
                    - width: 90%
                  name:
                    - top: 19%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: |
                        [[[
                          if (states['sensor.mb_temp_humidite_02_chambre_parents_temperature'].state < 16)
                            return 'dodgerblue';
                          if (states['sensor.mb_temp_humidite_02_chambre_parents_temperature'].state > 26)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 37%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 150%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.mb_temp_humidite_02_chambre_parents_humidity'].state < 40)
                            return 'dodgerblue';
                          if (states['sensor.mb_temp_humidite_02_chambre_parents_humidity'].state > 70)
                            return 'dodgerblue';
                          return 'darkgrey';
                        ]]]
                    - top: 57%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 110%
                    - position: absolute
                  card:
                    - height: 125px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    ic:
                      - position: absolute
                      - top: 40%
                      - left: 80%
                      - width: calc(60% + 1px)
                      - transform: translate(-40%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 110%
                      - left: 40%
                      - width: calc(75% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                      label:
                        - color: |
                            [[[
                              if (states['sensor.mb_temp_humidite_02_chambre_parents_temperature'].state < 16)
                                return 'dodgerblue';
                              if (states['sensor.mb_temp_humidite_02_chambre_parents_temperature'].state > 25)
                                return 'red';
                             return 'darkgrey';
                            ]]]
                  - operator: '>'
                    value: '0'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                      name:
                        - color: grey
                custom_fields:
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: >-
                            sensor.mb_temp_humidite_02_chambre_parents_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
              - type: custom:button-card
                entity: sensor.mb_temp_humidite_03_chambre_enfants_temperature
                name: Enfants
                icon: mdi:bed
                show_icon: true
                show_name: true
                show_state: true
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.mb_temp_humidite_03_chambre_enfants_humidity'].state
                  ) + "%"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 10px
                    - margin-left: 15px
                  icon:
                    - place-self: start
                    - width: 90%
                  name:
                    - top: 19%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: |
                        [[[
                          if (states['sensor.mb_temp_humidite_03_chambre_enfants_temperature'].state < 16)
                            return 'dodgerblue';
                          if (states['sensor.mb_temp_humidite_03_chambre_enfants_temperature'].state > 25)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 37%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 150%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.mb_temp_humidite_03_chambre_enfants_humidity'].state < 40)
                            return 'dodgerblue';
                          if (states['sensor.mb_temp_humidite_03_chambre_enfants_humidity'].state > 70)
                            return 'dodgerblue';
                          return 'darkgrey';
                        ]]]
                    - top: 57%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 110%
                    - position: absolute
                  card:
                    - height: 125px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    ic:
                      - position: absolute
                      - top: 40%
                      - left: 80%
                      - width: calc(60% + 1px)
                      - transform: translate(-40%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 110%
                      - left: 40%
                      - width: calc(75% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                      label:
                        - color: |
                            [[[
                              if (states['sensor.mb_temp_humidite_03_chambre_enfants_temperature'].state < 16)
                                return 'dodgerblue';
                              if (states['sensor.mb_temp_humidite_03_chambre_enfants_temperature'].state > 25)
                                return 'red';
                             return 'darkgrey';
                            ]]]
                  - operator: '>'
                    value: '0'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                      name:
                        - color: grey
                custom_fields:
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: >-
                            sensor.mb_temp_humidite_03_chambre_enfants_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: sensor.mb_temp_humidite_05_salle_de_bain_temperature
                name: SdB
                icon: mdi:water
                show_icon: true
                show_name: true
                show_state: true
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.mb_temp_humidite_05_salle_de_bain_humidity'].state
                  ) + "%"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 10px
                    - margin-left: 15px
                  icon:
                    - place-self: start
                    - width: 90%
                  name:
                    - top: 19%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: |
                        [[[
                          if (states['sensor.mb_temp_humidite_05_salle_de_bain_temperature'].state < 19)
                            return 'dodgerblue';
                          if (states['sensor.mb_temp_humidite_05_salle_de_bain_temperature'].state > 24)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 37%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 150%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.mb_temp_humidite_05_salle_de_bain_humidity'].state < 40)
                            return 'dodgerblue';
                          if (states['sensor.mb_temp_humidite_05_salle_de_bain_humidity'].state > 70)
                            return 'dodgerblue';
                          return 'darkgrey';
                        ]]]
                    - top: 57%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 110%
                    - position: absolute
                  card:
                    - height: 125px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    ic:
                      - position: absolute
                      - top: 40%
                      - left: 80%
                      - width: calc(60% + 1px)
                      - transform: translate(-40%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 110%
                      - left: 40%
                      - width: calc(75% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                      label:
                        - color: |
                            [[[
                              if (states['sensor.mb_temp_humidite_05_salle_de_bain_temperature'].state < 19)
                                return 'dodgerblue';
                              if (states['sensor.mb_temp_humidite_05_salle_de_bain_temperature'].state > 24)
                                return 'red';
                             return 'darkgrey';
                            ]]]
                  - operator: '>'
                    value: '0'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                      name:
                        - color: grey
                custom_fields:
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: sensor.mb_temp_humidite_05_salle_de_bain_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
              - type: custom:button-card
                entity: sensor.mb_temp_humidite_04_garage_temperature
                name: Garage
                icon: mdi:garage
                show_icon: true
                show_name: true
                show_state: true
                show_label: true
                label: >
                  [[[ return
                  (states['sensor.mb_temp_humidite_04_garage_humidity'].state )
                  + "%"; ]]]
                styles:
                  img_cell:
                    - background-color: rgba(70,70,70,0.5)
                    - border-radius: 50%
                    - place-self: start
                    - width: 40px
                    - height: 40px
                    - margin-top: 10px
                    - margin-left: 15px
                  icon:
                    - place-self: start
                    - width: 90%
                  name:
                    - top: 19%
                    - left: 36%
                    - font-size: 110%
                    - font-weight: bold
                    - position: absolute
                  state:
                    - color: |
                        [[[
                          if (states['sensor.mb_temp_humidite_04_garage_temperature'].state < 14)
                            return 'dodgerblue';
                          if (states['sensor.mb_temp_humidite_04_garage_temperature'].state > 26)
                            return 'red';
                          return 'darkgrey';
                        ]]]
                    - top: 37%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 150%
                    - position: absolute
                  label:
                    - color: |
                        [[[
                          if (states['sensor.mb_temp_humidite_04_garage_humidity'].state < 40)
                            return 'dodgerblue';
                          if (states['sensor.mb_temp_humidite_04_garage_humidity'].state > 70)
                            return 'dodgerblue';
                          return 'darkgrey';
                        ]]]
                    - top: 57%
                    - left: 36%
                    - font-weight: bold
                    - font-size: 110%
                    - position: absolute
                  card:
                    - height: 125px
                    - padding: 10px
                    - font-size: 100%
                    - background-color: '#ffffff'
                    - border-radius: 20px
                    - animation: ball-scale 0.2s
                  custom_fields:
                    ic:
                      - position: absolute
                      - top: 40%
                      - left: 80%
                      - width: calc(60% + 1px)
                      - transform: translate(-40%, calc(-50% + 10px))
                      - z-index: 1
                      - '--paper-card-background-color': rgba(0, 0, 0, 0.0)
                      - '--ha-card-background': rgba(0, 0, 0, 0.0)"
                      - '--ha-card-box-shadow': none
                    graph:
                      - position: absolute
                      - top: 110%
                      - left: 40%
                      - width: calc(75% + 15px)
                      - transform: translate(-50%, calc(-50% + 10px))
                      - z-index: 12
                      - '--paper-card-background-color': rgba(0, 0, 0, 0)
                      - '--ha-card-background': rgba(0, 0, 0, 0)"
                      - '--ha-card-box-shadow': none
                      - pointer-events: none
                extra_styles: |
                  @keyframes ball-scale {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                  @keyframes ball-scale2 {
                    from {
                      transform: scale(1);
                    }
                    to {
                      transform: scale(0.90);
                    }
                  }
                state:
                  - value: 'on'
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--button-card-light-color)
                      icon:
                        - color: var(--icon_on)
                        - transition: 2s ease
                      name:
                        - color: var(--text_on)
                      label:
                        - color: |
                            [[[
                              if (states['sensor.mb_temp_humidite_04_garage_temperature'].state < 19)
                                return 'dodgerblue';
                              if (states['sensor.mb_temp_humidite_04_garage_temperature'].state > 26)
                                return 'red';
                             return 'darkgrey';
                            ]]]
                  - operator: '>'
                    value: '0'
                    color: grey
                    styles:
                      card:
                        - animation: ball-scale 0.2s
                      img_cell:
                        - background-color: var(--pastille_off)
                      icon:
                        - color: var(--icon_off)
                        - transition: 2s ease
                      name:
                        - color: grey
                custom_fields:
                  ic:
                    card:
                      type: grid
                      cards:
                        - type: custom:button-card
                          entity: >-
                            binary_sensor.mb_capteur_ouverture_04_porte_garage_contact
                          show_name: false
                          styles:
                            icon:
                              - width: 22%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:garage-open-variant
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:garage-variant
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                        - type: custom:button-card
                          entity: binary_sensor.mb_mouvement_02_pallier_occupancy
                          show_name: false
                          styles:
                            icon:
                              - width: 20%
                            card:
                              - background: transparent
                              - 'border-color:': transparent
                          state:
                            - value: 'on'
                              icon: mdi:run-fast
                              styles:
                                icon:
                                  - color: firebrick
                            - value: 'off'
                              icon: mdi:exit-run
                              styles:
                                icon:
                                  - color: green
                          tap_action:
                            action: more-info
                      columns: 1
                      square: false
                  graph:
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - color: var(--graph_line)
                          entity: sensor.mb_temp_humidite_04_garage_temperature
                      height: 300
                      line_width: 5
                      lower_bound: 0
                      points_per_hour: 1
                      hours_to_show: 24
                      show:
                        fill: false
                        icon: false
                        name: false
                        state: false
                        legend: false
                        points: false
                        labels: false
          - type: entities
            entities:
              - entity: sensor.mb_lixee_base
                name: Index compteur
              - entity: sensor.energie_quotidienne_mb
                state_header: aujourd'hui
                name: Conso
                icon: mdi:power-plug
                type: custom:multiple-entity-row
                styles:
                  width: 80px
                  text-align: center
                entities:
                  - entity: sensor.energie_mensuelle_mb
                    name: ce mois
                    styles:
                      width: 80px
                      text-align: center
                  - entity: sensor.energie_hebdo_mb
                    name: cette semaine
                    styles:
                      width: 80px
                      text-align: center
          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    template:
                      - bouton_titre
                    style:
                      .: |
                        ha-card {
                            --ha-card-background: none !important;
                            box-shadow: none !important;
                            font-family: Avenir
                    name: |
                      [[[ return "Système"]]]
                  - type: custom:button-card
                    entity: sensor.vpnmoissac_cpu_temperature
                    name: RPI 4 +
                    icon: mdi:raspberry-pi
                    template:
                      - bouton_systeme
                    styles:
                      img_cell:
                        - background-color: |
                            [[[
                              if (entity.state < 70) return 'var(--pastille_off)';
                              if (entity.state >= 70 && entity.state < 80) return 'tomato';
                              else return 'red';
                            ]]]
                      icon:
                        - animation: |
                            [[[
                              if (entity.state > "70" )
                                return "blink 1s ease infinite";
                             return "";
                            ]]]
                      custom_fields:
                        circle:
                          - stroke: |
                              [[[
                                if (entity.state <= 69)
                                  return 'green';
                                if (entity.state > 69)
                                  return 'tomato';
                                return '';
                              ]]]
                        info1:
                          - '--text-color-sensor': >-
                              [[[ if
                              (states["sensor.vpnmoissac_cpu_usage"].state > 50)
                              return "red";  else return "black"; ]]]
                        info2:
                          - '--text-color-sensor': >-
                              [[[ if
                              (states["sensor.vpnmoissac_memory_usage"].state >
                              60) return  "red";  else return "black"; ]]]
                        info3:
                          - '--text-color-sensor': >-
                              [[[ if
                              (states["sensor.vpnmoissac_disk_usage"].state >
                              70) return "red";  else return "black"; ]]]
                        info4:
                          - '--text-color-sensor': >-
                              [[[ if (states["sensor.vpnmoissac_uptime"].state >
                              7)  return  "red";   if
                              (states["sensor.vpnmoissac_uptime"].state ==
                              "unavailable")  return  "transparent"; else 
                              return "black";  ]]]
                        info5:
                          - '--text-color-sensor': >-
                              [[[ if (states["sensor.disponibilite"].state ==
                              "online")  return  "green";   if
                              (states["sensor.disponibilite"].state ==
                              "unavailable")  return  "transparent"; else 
                              return "red";  ]]]
                    custom_fields:
                      circle: |
                        [[[ if (entity.state != '0' ) {
                           ;
                           const radius = 20.5; const circumference = radius * 2 * Math.PI; 
                           return `<svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="${radius}" stroke="grey" stroke-width="1.5" fill="none" style="
                           transform: rotate(-90deg); transform-origin: 50% 50%; stroke-dasharray: ${circumference}; stroke-dashoffset: ${circumference - entity.state / 90 * circumference};" />
                           <text x="50%" y="54%" fill="lightgrey" font-size="15" text-anchor="middle" alignment-baseline="middle">${entity.state}°<tspan font-size="10"></tspan></text></svg>`; } ]]]
                      info1: |
                        [[[
                          return `<ha-icon
                            icon="mdi:server"
                            style="width: 12px; height: 12px; color: grey;">
                            </ha-icon><span> CPU : <span style="color: var(--text-color-sensor);">${states['sensor.vpnmoissac_cpu_usage'].state}%</span></span>`
                        ]]]
                      info2: |
                        [[[
                          return `<ha-icon
                            icon="mdi:memory"
                            style="width: 12px; height: 12px; color: grey;">
                            </ha-icon><span> RAM : <span style="color: var(--text-color-sensor);">${states['sensor.vpnmoissac_memory_usage'].state}%</span></span>`
                        ]]]
                      info3: |
                        [[[
                          return `<ha-icon
                            icon="mdi:harddisk"
                            style="width: 12px; height: 12px; color: grey;">
                            </ha-icon><span> SSD : <span style="color: var(--text-color-sensor);">${states['sensor.vpnmoissac_disk_usage'].state}%</span></span>`
                        ]]]
                      info4: |
                        [[[
                          return `<ha-icon
                            icon="mdi:clock"
                            style="width: 12px; height: 12px; color: grey;">
                            </ha-icon><span> Uptime: <span style="color: var(--text-color-sensor);">${states['sensor.vpnmoissac_uptime'].state} jour(s)</span></span>`
                        ]]]
                      info5: |
                        [[[
                          return `<ha-icon
                            icon="mdi:clock"
                            style="width: 12px; height: 12px; color: grey;">
                            </ha-icon><span> MQTT: <span style="color: var(--text-color-sensor);">${states['sensor.disponibilite'].state}</span></span>`
                        ]]]
              - type: vertical-stack
                cards:
                  - type: custom:button-card
                    template:
                      - bouton_titre
                    style:
                      .: |
                        ha-card {
                            --ha-card-background: none !important;
                            box-shadow: none !important;
                            font-family: Avenir
                    name: |
                      [[[ return "Surveillance"]]]
                  - type: custom:button-card
                    entity: input_boolean.alarme_activation
                    template: scene
                    name: Alarme
                    state:
                      - label: activée
                        id: vert_off
                        value: 'on'
                      - label: désactivée
                        id: rouge_on
                        value: 'off'
                  - type: horizontal-stack
                    cards:
                      - type: custom:button-card
                        entity: group.all_doors_sensor_entities_mb
                        template:
                          - icon_info_bg
                          - ouverture
                        name: Ouverture
                        state:
                          - label: Mouvement
                            id: rouge_on
                            value: 'on'
                          - label: RAS
                            id: vert_off
                            value: 'off'
                      - type: custom:button-card
                        entity: group.all_motion_sensor_entities_mb
                        template:
                          - icon_info_bg
                          - ouverture
                        name: Mouvement
                        state:
                          - label: Mouvement
                            id: rouge_on
                            value: 'on'
                          - label: RAS
                            id: vert_off
                            value: 'off'
  - theme: Backend-selected
    title: piscine
    path: piscine
    icon: mdi:swim
    visible: []
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-chips-card
                chips:
                  - type: back
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-entity-card
                entity: sensor.netatmo_maison_piece_de_vie_jardin_temperature
                name: température de l'air
              - type: custom:mushroom-entity-card
                entity: sensor.temp_humidite_10_piscine_temperature
                icon: mdi:thermometer
                icon_color: blue
                fill_container: false
                use_entity_picture: false
                hide_icon: false
                name: température de l'eau
          - color_thresholds:
              - color: '#039BE5'
                value: 19
              - color: '#34e3f3'
                value: 22
              - color: '#e07900'
                value: 26
              - color: '#f3343e'
                value: 31
            color_thresholds_transition: hard
            icon: mdi:swim
            entities:
              - sensor.temp_humidite_10_piscine_temperature
            group: false
            hour24: true
            hours_to_show: 24
            line_width: 3
            name: Température de l'eau
            points_per_hour: 12
            show:
              extrema: true
              fill: fade
              icon: true
              labels: false
              name: true
              state: true
            style: |
              ha-card {
                border: solid 2px var(--primary-color);
              }
            type: custom:mini-graph-card
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-entity-card
                entity: switch.piscine_mss310_main_channel
                name: filtration
                icon: mdi:pump
          - type: custom:mushroom-entity-card
            entity: input_text.cycle_filtration
            name: cycle de filtration
          - type: custom:mushroom-entity-card
            entity: sensor.duree_filtration
            name: 'temps de filtration conseillé :'
            icon: mdi:av-timer
            fill_container: false
            use_entity_picture: false
            hide_icon: false
  - theme: Backend-selected
    title: Temperature
    path: temperature
    icon: mdi:home-thermometer
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:mushroom-chips-card
            chips:
              - type: back
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                      box-shadow: none;    
                    }
                entities:
                  - sensor.netatmo_maison_piece_de_vie_temperature
                name: Piece de vie
                height: 80
                font_size: 80
                line_color: '#3498db'
                line_width: 8
                hours_to_show: 24
                graph: line
                detail: 2
                show:
                  extrema: true
              - type: custom:mini-graph-card
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                      box-shadow: none;    
                    }
                entities:
                  - sensor.temp_humidite_06_bureau_temperature
                name: Bureau
                height: 80
                font_size: 80
                line_color: '#e74c3c'
                line_width: 8
                hours_to_show: 24
                graph: line
                detail: 2
                show:
                  extrema: true
              - type: custom:mini-graph-card
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                      box-shadow: none;    
                    }
                entities:
                  - sensor.temp_humidite_01_salle_de_jeux_temperature
                name: Salle de jeux
                height: 80
                font_size: 80
                line_color: '#3498db'
                line_width: 8
                hours_to_show: 24
                graph: line
                detail: 2
                show:
                  extrema: true
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                      box-shadow: none;    
                    }
                entities:
                  - >-
                    sensor.netatmo_maison_piece_de_vie_chambre_parentale_temperature
                name: Parents
                height: 80
                font_size: 80
                line_color: '#3498db'
                line_width: 8
                hours_to_show: 24
                graph: line
                detail: 2
                show:
                  extrema: true
              - type: custom:mini-graph-card
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                      box-shadow: none;    
                    }
                entities:
                  - sensor.temp_humidite_11_chambre_chloe_temperature
                name: Chloé
                height: 80
                font_size: 80
                line_color: '#e74c3c'
                line_width: 8
                hours_to_show: 24
                graph: line
                detail: 2
                show:
                  extrema: true
              - type: custom:mini-graph-card
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                      box-shadow: none;    
                    }
                entities:
                  - sensor.temp_humidite_07_chambre_maxence_temperature
                name: Maxence
                height: 80
                font_size: 80
                line_color: '#3498db'
                line_width: 8
                hours_to_show: 24
                graph: line
                detail: 2
                show:
                  extrema: true
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                      box-shadow: none;    
                    }
                entities:
                  - sensor.temp_humidite_05_cuisine_temperature
                name: Cuisine
                height: 80
                font_size: 80
                line_color: '#3498db'
                line_width: 8
                hours_to_show: 24
                graph: line
                detail: 2
                show:
                  extrema: true
              - type: custom:mini-graph-card
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                      box-shadow: none;    
                    }
                entities:
                  - sensor.temp_humidite_08_salle_de_bain_temperature
                name: Salle de bain
                height: 80
                font_size: 80
                line_color: '#e74c3c'
                line_width: 8
                hours_to_show: 24
                graph: line
                detail: 2
                show:
                  extrema: true
              - type: custom:mini-graph-card
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                      box-shadow: none;    
                    }
                entities:
                  - sensor.detecteur_fumee_01_rdc_air_temperature
                name: Couloir
                height: 80
                font_size: 80
                line_color: '#3498db'
                line_width: 8
                hours_to_show: 24
                graph: line
                detail: 2
                show:
                  extrema: true
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                      box-shadow: none;    
                    }
                entities:
                  - sensor.detecteur_fumee_02_pallier_air_temperature
                name: Pallier
                height: 80
                font_size: 80
                line_color: '#3498db'
                line_width: 8
                hours_to_show: 24
                graph: line
                detail: 2
                show:
                  extrema: true
              - type: custom:mini-graph-card
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                      box-shadow: none;    
                    }
                entities:
                  - sensor.temp_humidite_09_salle_de_douche_temperature
                name: Douche
                height: 80
                font_size: 80
                line_color: '#3498db'
                line_width: 8
                hours_to_show: 24
                graph: line
                detail: 2
                show:
                  extrema: true
  - theme: Backend-selected
    title: plantes intérieures
    path: plantes-interieures
    icon: mdi:flower
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:mushroom-chips-card
            chips:
              - type: back
          - type: horizontal-stack
            cards:
              - type: custom:banner-card
                heading: null
                background: url("/local/lovelace/background/dracaena_marginata.png")
                entities:
                  - entity: sensor.miflora_dracaena_margenata_moisture
                    name: Humidité
                  - entity: sensor.miflora_dracaena_margenata_conductivity
                    name: Conductivité
              - type: custom:banner-card
                heading: null
                background: url("/local/lovelace/background/pachira.png")
                entities:
                  - entity: sensor.miflora_pseudo_ficus_moisture
                    name: Humidité
                  - entity: sensor.miflora_pseudo_ficus_conductivity
                    name: Conductivité
          - type: horizontal-stack
            cards:
              - type: custom:banner-card
                heading: null
                background: url("/local/lovelace/background/monstera_deliciosa.png")
                entities:
                  - entity: sensor.miflora_monstera_deliciosa_moisture
                    name: Humidité
                  - entity: sensor.miflora_monstera_deliciosa_conductivity
                    name: Conductivité
              - type: custom:banner-card
                heading: null
                background: url("/local/lovelace/background/palmier_de_montagne.png")
                entities:
                  - entity: sensor.miflora_palmier_de_montagne_moisture
                    name: Humidité
                  - entity: sensor.miflora_palmier_de_montagne_conductivity
                    name: Conductivité
          - type: horizontal-stack
            cards:
              - type: custom:banner-card
                heading: null
                background: url("/local/lovelace/background/fleur_de_lune.png")
                entities:
                  - entity: sensor.miflora_plante_inconnue_moisture_2
                    name: Humidité
                  - entity: sensor.miflora_plante_inconnue_conductivity_2
                    name: Conductivité
              - type: custom:banner-card
                heading: null
                background: url("/local/lovelace/background/cactus_noel.png")
                entities:
                  - entity: sensor.miflora_cactus_de_noel_moisture_2
                    name: Humidité
                  - entity: sensor.miflora_cactus_de_noel_conductivity_2
                    name: Conductivité

